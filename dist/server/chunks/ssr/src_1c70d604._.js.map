{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/lib/data-utils.ts"],"sourcesContent":["import { Champion, ChampionInSummary, Skin, Chroma } from \"./types\";\n\n// API Base URLs\nconst COMMUNITY_DRAGON_BASE_URL =\n  \"https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default\";\nconst FANTOME_BASE_URL =\n  \"https://raw.githubusercontent.com/nerowah/lol-skins-developer/main\";\n\n// Configuration\nconst CONFIG = {\n  RETRY_ATTEMPTS: 3,\n  RETRY_DELAY: 1000,\n  TIMEOUT: 30000,\n  CACHE_TTL: 5 * 60 * 1000, // 5 minutes\n  MAX_CONCURRENT_REQUESTS: 6,\n} as const;\n\n// Cache implementation\ninterface CacheEntry<T> {\n  data: T;\n  timestamp: number;\n  expiry: number;\n}\n\nclass DataCache {\n  private cache = new Map<string, CacheEntry<any>>();\n  private readonly maxSize = 1000;\n\n  set<T>(key: string, data: T, ttl: number = CONFIG.CACHE_TTL): void {\n    // Clean up expired entries if cache is getting large\n    if (this.cache.size >= this.maxSize) {\n      this.cleanup();\n    }\n\n    const now = Date.now();\n    this.cache.set(key, {\n      data,\n      timestamp: now,\n      expiry: now + ttl,\n    });\n  }\n\n  get<T>(key: string): T | null {\n    const entry = this.cache.get(key);\n    if (!entry) return null;\n\n    if (Date.now() > entry.expiry) {\n      this.cache.delete(key);\n      return null;\n    }\n\n    return entry.data;\n  }\n\n  has(key: string): boolean {\n    const entry = this.cache.get(key);\n    if (!entry) return false;\n\n    if (Date.now() > entry.expiry) {\n      this.cache.delete(key);\n      return false;\n    }\n\n    return true;\n  }\n\n  delete(key: string): void {\n    this.cache.delete(key);\n  }\n\n  clear(): void {\n    this.cache.clear();\n  }\n\n  private cleanup(): void {\n    const now = Date.now();\n    for (const [key, entry] of this.cache.entries()) {\n      if (now > entry.expiry) {\n        this.cache.delete(key);\n      }\n    }\n\n    // If still too large, remove oldest entries\n    if (this.cache.size >= this.maxSize) {\n      const entries = Array.from(this.cache.entries())\n        .sort(([, a], [, b]) => a.timestamp - b.timestamp);\n      \n      const toRemove = entries.slice(0, Math.floor(this.maxSize * 0.2));\n      toRemove.forEach(([key]) => this.cache.delete(key));\n    }\n  }\n\n  getStats() {\n    const now = Date.now();\n    const total = this.cache.size;\n    const expired = Array.from(this.cache.values()).filter(\n      entry => now > entry.expiry\n    ).length;\n\n    return {\n      total,\n      active: total - expired,\n      expired,\n      memoryUsage: this.getMemoryUsage(),\n    };\n  }\n\n  private getMemoryUsage(): number {\n    // Rough estimation of memory usage\n    let size = 0;\n    for (const [key, entry] of this.cache.entries()) {\n      size += key.length * 2; // String chars are 2 bytes\n      size += JSON.stringify(entry.data).length * 2;\n      size += 24; // Estimated overhead per entry\n    }\n    return size;\n  }\n}\n\n// Global cache instance\nconst dataCache = new DataCache();\n\n// Enhanced error class for better error handling\nexport class DataFetchError extends Error {\n  constructor(\n    message: string,\n    public readonly code: string,\n    public readonly statusCode?: number,\n    public readonly retryable: boolean = true\n  ) {\n    super(message);\n    this.name = \"DataFetchError\";\n  }\n}\n\n// Request queue for rate limiting\nclass RequestQueue {\n  private queue: Array<() => Promise<void>> = [];\n  private processing = false;\n  private readonly concurrency: number;\n  private activeRequests = 0;\n\n  constructor(concurrency: number = CONFIG.MAX_CONCURRENT_REQUESTS) {\n    this.concurrency = concurrency;\n  }\n\n  async add<T>(fn: () => Promise<T>): Promise<T> {\n    return new Promise((resolve, reject) => {\n      this.queue.push(async () => {\n        try {\n          const result = await fn();\n          resolve(result);\n        } catch (error) {\n          reject(error);\n        }\n      });\n      this.process();\n    });\n  }\n\n  private async process(): Promise<void> {\n    if (this.processing || this.activeRequests >= this.concurrency) return;\n    \n    const fn = this.queue.shift();\n    if (!fn) return;\n\n    this.activeRequests++;\n    this.processing = true;\n\n    try {\n      await fn();\n    } finally {\n      this.activeRequests--;\n      \n      // Process next item if available\n      if (this.queue.length > 0 && this.activeRequests < this.concurrency) {\n        // Small delay to prevent overwhelming the server\n        setTimeout(() => this.process(), 50);\n      } else {\n        this.processing = false;\n      }\n    }\n  }\n\n  getStats() {\n    return {\n      queueLength: this.queue.length,\n      activeRequests: this.activeRequests,\n      concurrency: this.concurrency,\n    };\n  }\n}\n\n// Global request queue\nconst requestQueue = new RequestQueue();\n\n// Enhanced fetch with retry logic and timeout\nasync function enhancedFetch(\n  url: string,\n  options: RequestInit = {},\n  retryCount = 0\n): Promise<Response> {\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), CONFIG.TIMEOUT);\n\n  try {\n    const response = await fetch(url, {\n      ...options,\n      signal: controller.signal,\n    });\n\n    clearTimeout(timeoutId);\n\n    if (!response.ok) {\n      const isRetryable = response.status >= 500 || response.status === 429;\n      throw new DataFetchError(\n        `HTTP ${response.status}: ${response.statusText}`,\n        \"HTTP_ERROR\",\n        response.status,\n        isRetryable\n      );\n    }\n\n    return response;\n  } catch (error) {\n    clearTimeout(timeoutId);\n\n    if (error instanceof DataFetchError) {\n      throw error;\n    }\n\n    // Handle network errors\n    if (error instanceof TypeError || error.name === \"AbortError\") {\n      const isTimeout = error.name === \"AbortError\";\n      const retryable = retryCount < CONFIG.RETRY_ATTEMPTS;\n\n      if (retryable && (isTimeout || error instanceof TypeError)) {\n        const delay = CONFIG.RETRY_DELAY * Math.pow(2, retryCount);\n        await new Promise(resolve => setTimeout(resolve, delay));\n        return enhancedFetch(url, options, retryCount + 1);\n      }\n\n      throw new DataFetchError(\n        isTimeout ? \"Request timeout\" : \"Network error\",\n        isTimeout ? \"TIMEOUT\" : \"NETWORK_ERROR\",\n        undefined,\n        retryable\n      );\n    }\n\n    throw error;\n  }\n}\n\n// Champion Details Interface\ninterface ChampionDetails {\n  skins: Array<{\n    id: number;\n    name: string;\n    loadScreenPath: string;\n    isBase: boolean;\n    skinType: string;\n    rarity: string;\n    featuresText: string | null;\n    chromas?: Array<{\n      id: number;\n      name: string;\n      chromaPath: string;\n      colors: string[];\n      description: string;\n      rarity: string;\n    }>;\n  }>;\n}\n\n// Asset URL construction with validation\nfunction constructAssetUrl(path: string): string {\n  if (!path || typeof path !== \"string\") {\n    throw new DataFetchError(\"Invalid asset path\", \"INVALID_PATH\", undefined, false);\n  }\n\n  // Remove leading slash if present\n  const cleanPath = path.startsWith(\"/\") ? path.slice(1) : path;\n\n  // Remove the 'lol-game-data/assets/' prefix if present and convert to lowercase\n  const transformedPath = cleanPath\n    .replace(\"lol-game-data/assets/\", \"\")\n    .toLowerCase();\n\n  return `${COMMUNITY_DRAGON_BASE_URL}/${transformedPath}`;\n}\n\n// Enhanced data fetching functions with caching and error handling\nexport async function fetchChampionSummaries(): Promise<ChampionInSummary[]> {\n  const cacheKey = \"champion-summaries\";\n  \n  // Check cache first\n  const cached = dataCache.get<ChampionInSummary[]>(cacheKey);\n  if (cached) {\n    return cached;\n  }\n\n  return requestQueue.add(async () => {\n    try {\n      const response = await enhancedFetch(\n        `${COMMUNITY_DRAGON_BASE_URL}/v1/champion-summary.json`\n      );\n      \n      const data = (await response.json()) as ChampionInSummary[];\n      \n      // Validate data structure\n      if (!Array.isArray(data)) {\n        throw new DataFetchError(\n          \"Invalid champion summaries format\",\n          \"INVALID_DATA\",\n          undefined,\n          false\n        );\n      }\n\n      // Cache the result\n      dataCache.set(cacheKey, data);\n      \n      return data;\n    } catch (error) {\n      if (error instanceof DataFetchError) {\n        throw error;\n      }\n      throw new DataFetchError(\n        `Failed to fetch champion summaries: ${error}`,\n        \"FETCH_ERROR\"\n      );\n    }\n  });\n}\n\nexport async function fetchChampionDetails(id: number): Promise<ChampionDetails> {\n  if (!id || id <= 0) {\n    throw new DataFetchError(\"Invalid champion ID\", \"INVALID_ID\", undefined, false);\n  }\n\n  const cacheKey = `champion-details-${id}`;\n  \n  // Check cache first\n  const cached = dataCache.get<ChampionDetails>(cacheKey);\n  if (cached) {\n    return cached;\n  }\n\n  return requestQueue.add(async () => {\n    try {\n      const response = await enhancedFetch(\n        `${COMMUNITY_DRAGON_BASE_URL}/v1/champions/${id}.json`\n      );\n      \n      const data = (await response.json()) as ChampionDetails;\n      \n      // Validate data structure\n      if (!data || !Array.isArray(data.skins)) {\n        throw new DataFetchError(\n          \"Invalid champion details format\",\n          \"INVALID_DATA\",\n          undefined,\n          false\n        );\n      }\n\n      // Cache the result with shorter TTL for champion details\n      dataCache.set(cacheKey, data, CONFIG.CACHE_TTL / 2);\n      \n      return data;\n    } catch (error) {\n      if (error instanceof DataFetchError) {\n        throw error;\n      }\n      throw new DataFetchError(\n        `Failed to fetch details for champion ${id}: ${error}`,\n        \"FETCH_ERROR\"\n      );\n    }\n  });\n}\n\nexport async function fetchFantomeFile(\n  championId: number,\n  skinId: number\n): Promise<Uint8Array> {\n  if (!championId || championId <= 0 || !skinId || skinId < 0) {\n    throw new DataFetchError(\"Invalid champion or skin ID\", \"INVALID_ID\", undefined, false);\n  }\n\n  const cacheKey = `fantome-${championId}-${skinId}`;\n  \n  // Check cache first (with longer TTL for binary files)\n  const cached = dataCache.get<Uint8Array>(cacheKey);\n  if (cached) {\n    return cached;\n  }\n\n  return requestQueue.add(async () => {\n    try {\n      const response = await enhancedFetch(\n        `${FANTOME_BASE_URL}/${championId}/${skinId}.fantome`\n      );\n      \n      const arrayBuffer = await response.arrayBuffer();\n      const data = new Uint8Array(arrayBuffer);\n      \n      // Validate that we received data\n      if (data.length === 0) {\n        throw new DataFetchError(\n          \"Empty fantome file received\",\n          \"EMPTY_FILE\",\n          undefined,\n          false\n        );\n      }\n\n      // Cache with longer TTL for binary files\n      dataCache.set(cacheKey, data, CONFIG.CACHE_TTL * 4);\n      \n      return data;\n    } catch (error) {\n      if (error instanceof DataFetchError) {\n        throw error;\n      }\n      throw new DataFetchError(\n        `Failed to fetch fantome file for champion ${championId}, skin ${skinId}: ${error}`,\n        \"FETCH_ERROR\"\n      );\n    }\n  });\n}\n\n// Enhanced filename sanitization\nexport function sanitizeForFileName(input: string): string {\n  if (!input || typeof input !== \"string\") {\n    return \"Unknown\";\n  }\n\n  return input\n    .replace(/[<>:\"/\\\\|?*\\x00-\\x1f]/g, \"\") // Remove invalid characters\n    .replace(/\\s+/g, \" \") // Normalize spaces\n    .trim()\n    .substring(0, 100) // Limit length\n    || \"Unknown\"; // Fallback if empty after sanitization\n}\n\n// Enhanced champion data transformation with validation\nexport function transformChampionData(\n  summary: ChampionInSummary,\n  details: ChampionDetails\n): Champion {\n  try {\n    const validSkins = details.skins\n      .filter(skin => skin && skin.id && skin.name)\n      .map((skin): Skin => {\n        const transformedSkin: Skin = {\n          id: skin.id,\n          name: skin.name || \"Unknown Skin\",\n          loadScreenPath: skin.loadScreenPath\n            ? constructAssetUrl(skin.loadScreenPath)\n            : \"\",\n          isBase: Boolean(skin.isBase),\n          skinType: skin.skinType || \"Normal\",\n          rarity: skin.rarity || \"Standard\",\n          featuresText: skin.featuresText || null,\n          chromas: skin.chromas\n            ? skin.chromas\n                .filter(chroma => chroma && chroma.id && chroma.name)\n                .map((chroma): Chroma => ({\n                  id: chroma.id,\n                  name: chroma.name,\n                  chromaPath: chroma.chromaPath\n                    ? constructAssetUrl(chroma.chromaPath)\n                    : \"\",\n                  colors: Array.isArray(chroma.colors) ? chroma.colors : [],\n                  description: chroma.description || \"\",\n                  rarity: chroma.rarity || \"Standard\",\n                }))\n            : [],\n        };\n        return transformedSkin;\n      });\n\n    const champion: Champion = {\n      id: summary.id,\n      name: summary.name || \"Unknown Champion\",\n      alias: summary.alias || \"\",\n      squarePortraitPath: summary.squarePortraitPath\n        ? constructAssetUrl(summary.squarePortraitPath)\n        : \"\",\n      skins: validSkins,\n    };\n\n    return champion;\n  } catch (error) {\n    throw new DataFetchError(\n      `Failed to transform champion data: ${error}`,\n      \"TRANSFORM_ERROR\",\n      undefined,\n      false\n    );\n  }\n}\n\n// Utility functions for cache management\nexport function clearDataCache(): void {\n  dataCache.clear();\n}\n\nexport function getDataCacheStats() {\n  return {\n    cache: dataCache.getStats(),\n    requestQueue: requestQueue.getStats(),\n  };\n}\n\n// Prefetch commonly used data\nexport async function prefetchCommonData(): Promise<void> {\n  try {\n    // Prefetch champion summaries as they're always needed\n    await fetchChampionSummaries();\n  } catch (error) {\n    console.warn(\"Failed to prefetch common data:\", error);\n  }\n}\n\n// Health check function\nexport async function checkDataSourceHealth(): Promise<{\n  communityDragon: boolean;\n  fantomeRepository: boolean;\n  cacheHealth: any;\n}> {\n  const results = {\n    communityDragon: false,\n    fantomeRepository: false,\n    cacheHealth: getDataCacheStats(),\n  };\n\n  try {\n    const response = await enhancedFetch(\n      `${COMMUNITY_DRAGON_BASE_URL}/v1/champion-summary.json`,\n      { method: \"HEAD\" }\n    );\n    results.communityDragon = response.ok;\n  } catch {\n    results.communityDragon = false;\n  }\n\n  try {\n    const response = await enhancedFetch(\n      `${FANTOME_BASE_URL}/1/0.fantome`,\n      { method: \"HEAD\" }\n    );\n    results.fantomeRepository = response.ok;\n  } catch {\n    results.fantomeRepository = false;\n  }\n\n  return results;\n}\n\n// Export cache instance for advanced usage\nexport { dataCache };\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 389, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/lib/hooks/use-data-update.ts"],"sourcesContent":["import { useState, useCallback, useRef } from \"react\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { toast } from \"sonner\";\nimport { DataUpdateProgress, DataUpdateResult } from \"../types\";\nimport {\n  fetchChampionSummaries,\n  fetchChampionDetails,\n  fetchFantomeFile,\n  transformChampionData,\n  sanitizeForFileName,\n} from \"../data-utils\";\n\n// Helper function to delay execution\nconst delay = (ms: number) => new Promise((resolve) => setTimeout(resolve, ms));\n\n// Enhanced retry mechanism with exponential backoff\nconst retryWithBackoff = async <T>(\n  fn: () => Promise<T>,\n  maxRetries: number = 3,\n  baseDelay: number = 1000\n): Promise<T> => {\n  let lastError: Error;\n  \n  for (let attempt = 0; attempt <= maxRetries; attempt++) {\n    try {\n      return await fn();\n    } catch (error) {\n      lastError = error as Error;\n      \n      if (attempt === maxRetries) {\n        throw lastError;\n      }\n      \n      // Exponential backoff with jitter\n      const delayMs = baseDelay * Math.pow(2, attempt) + Math.random() * 1000;\n      await delay(delayMs);\n    }\n  }\n  \n  throw lastError!;\n};\n\n// Rate limiter for API calls\nclass RateLimiter {\n  private queue: Array<() => void> = [];\n  private processing = false;\n  private readonly interval: number;\n\n  constructor(requestsPerSecond: number = 10) {\n    this.interval = 1000 / requestsPerSecond;\n  }\n\n  async add<T>(fn: () => Promise<T>): Promise<T> {\n    return new Promise((resolve, reject) => {\n      this.queue.push(async () => {\n        try {\n          const result = await fn();\n          resolve(result);\n        } catch (error) {\n          reject(error);\n        }\n      });\n      \n      this.process();\n    });\n  }\n\n  private async process() {\n    if (this.processing || this.queue.length === 0) return;\n    \n    this.processing = true;\n    \n    while (this.queue.length > 0) {\n      const fn = this.queue.shift()!;\n      await fn();\n      await delay(this.interval);\n    }\n    \n    this.processing = false;\n  }\n}\n\nexport function useDataUpdate() {\n  const [isUpdating, setIsUpdating] = useState(false);\n  const [progress, setProgress] = useState<DataUpdateProgress | null>(null);\n  const abortControllerRef = useRef<AbortController | null>(null);\n  const rateLimiter = useRef(new RateLimiter(8)); // 8 requests per second\n\n  // Enhanced progress update with throttling\n  const updateProgress = useCallback((updates: Partial<DataUpdateProgress>) => {\n    setProgress(prev => prev ? { ...prev, ...updates } : null);\n  }, []);\n\n  const updateData = useCallback(async () => {\n    if (isUpdating) {\n      return;\n    }\n\n    // Create abort controller for cancellation support\n    abortControllerRef.current = new AbortController();\n    const { signal } = abortControllerRef.current;\n\n    const loadingToastId = toast(\"Updating data...\");\n\n    try {\n      setIsUpdating(true);\n      updateProgress({\n        currentChampion: \"\",\n        totalChampions: 0,\n        processedChampions: 0,\n        status: \"checking\",\n        progress: 0,\n      });\n\n      // Check for updates with retry\n      const updateResult = await retryWithBackoff(\n        () => invoke<DataUpdateResult>(\"check_data_updates\"),\n        2,\n        500\n      );\n      \n      const dataExists = await invoke<boolean>(\"check_champions_data\");\n\n      // Check if operation was cancelled\n      if (signal.aborted) {\n        throw new Error(\"Operation cancelled\");\n      }\n\n      // If updates are needed or no data exists, proceed with update\n      if (\n        !dataExists ||\n        (updateResult.updatedChampions &&\n          updateResult.updatedChampions.length > 0)\n      ) {\n        // Fetch champion summaries with retry\n        const summaries = await retryWithBackoff(\n          () => fetchChampionSummaries(),\n          3,\n          1000\n        );\n        \n        const validSummaries = summaries.filter((summary) => summary.id > 0);\n        const totalChampions = validSummaries.length;\n\n        updateProgress({\n          totalChampions,\n          status: \"downloading\",\n        });\n\n        // Update loading toast with download info\n        toast.dismiss(loadingToastId);\n        const downloadToastId = toast(`Downloading data for ${totalChampions} champions`);\n\n        // Optimized batch processing with dynamic batch size\n        const INITIAL_BATCH_SIZE = 8;\n        const MAX_BATCH_SIZE = 15;\n        const DELAY_BETWEEN_BATCHES = 300;\n        \n        let currentBatchSize = INITIAL_BATCH_SIZE;\n        let processedCount = 0;\n        let errorCount = 0;\n\n        for (let i = 0; i < validSummaries.length; i += currentBatchSize) {\n          // Check for cancellation\n          if (signal.aborted) {\n            throw new Error(\"Operation cancelled\");\n          }\n\n          const batch = validSummaries.slice(i, i + currentBatchSize);\n          const batchStartTime = Date.now();\n\n          // Process each champion in the batch with rate limiting\n          const batchPromises = batch.map(async (summary) => {\n            return rateLimiter.current.add(async () => {\n              try {\n                updateProgress({\n                  currentChampion: summary.name,\n                  processedChampions: processedCount,\n                  status: \"processing\",\n                  progress: (processedCount / totalChampions) * 100,\n                });\n\n                // Fetch champion details with retry\n                const details = await retryWithBackoff(\n                  () => fetchChampionDetails(summary.id),\n                  2,\n                  500\n                );\n\n                // Process skins concurrently with limit\n                const skinPromises = details.skins\n                  .filter((_, index) => index > 0) // Skip base skin\n                  .map(async (skin) => {\n                    try {\n                      // Extract base skin ID\n                      const baseSkinId = skin.id % 1000;\n                      \n                      // Fetch fantome content with retry\n                      const fantomeContent = await retryWithBackoff(\n                        () => fetchFantomeFile(summary.id, baseSkinId),\n                        2,\n                        300\n                      );\n\n                      // Save regular skin fantome file\n                      await invoke(\"save_fantome_file\", {\n                        championName: sanitizeForFileName(summary.name),\n                        skinName: sanitizeForFileName(skin.name),\n                        isChroma: false,\n                        content: fantomeContent,\n                      });\n\n                      // Process chromas if they exist\n                      if (skin.chromas && skin.chromas.length > 0) {\n                        const chromaPromises = skin.chromas.map(async (chroma) => {\n                          try {\n                            const chromaContent = await retryWithBackoff(\n                              () => fetchFantomeFile(summary.id, chroma.id),\n                              2,\n                              300\n                            );\n                            \n                            await invoke(\"save_fantome_file\", {\n                              championName: sanitizeForFileName(summary.name),\n                              skinName: sanitizeForFileName(`${skin.name} ${chroma.name}`),\n                              isChroma: true,\n                              content: chromaContent,\n                            });\n                          } catch (chromaError) {\n                            console.warn(`Failed to process chroma ${chroma.name}:`, chromaError);\n                          }\n                        });\n\n                        await Promise.allSettled(chromaPromises);\n                      }\n                    } catch (skinError) {\n                      console.warn(`Failed to process skin ${skin.name}:`, skinError);\n                    }\n                  });\n\n                await Promise.allSettled(skinPromises);\n\n                // Transform and save champion data\n                const transformedChampion = transformChampionData(summary, details);\n                await invoke(\"save_champion_data\", {\n                  championId: summary.id,\n                  data: transformedChampion,\n                });\n\n                processedCount++;\n                return true;\n              } catch (error) {\n                errorCount++;\n                console.error(`Failed to process champion ${summary.name}:`, error);\n                return false;\n              }\n            });\n          });\n\n          const batchResults = await Promise.allSettled(batchPromises);\n          const batchTime = Date.now() - batchStartTime;\n\n          // Adaptive batch sizing based on performance\n          if (batchTime < 2000 && errorCount === 0) {\n            currentBatchSize = Math.min(currentBatchSize + 2, MAX_BATCH_SIZE);\n          } else if (batchTime > 5000 || errorCount > 0) {\n            currentBatchSize = Math.max(currentBatchSize - 1, 3);\n          }\n\n          // Reset error count for next batch\n          errorCount = 0;\n\n          // Update progress\n          updateProgress({\n            processedChampions: processedCount,\n            progress: (processedCount / totalChampions) * 100,\n          });\n\n          // Delay between batches (adaptive)\n          if (i + currentBatchSize < validSummaries.length) {\n            await delay(batchTime > 3000 ? DELAY_BETWEEN_BATCHES * 1.5 : DELAY_BETWEEN_BATCHES);\n          }\n        }\n\n        // Finalize update\n        updateProgress({\n          status: \"finalizing\",\n          progress: 100,\n        });\n\n        await invoke(\"finalize_champion_data_update\");\n\n        toast.dismiss(downloadToastId);\n        toast.success(`Successfully updated ${processedCount} champions!`);\n      } else {\n        toast.dismiss(loadingToastId);\n        toast.info(\"Champion data is already up to date\");\n      }\n    } catch (error) {\n      console.error(\"Data update failed:\", error);\n      toast.dismiss(loadingToastId);\n      \n      if (error instanceof Error && error.message === \"Operation cancelled\") {\n        toast.info(\"Update cancelled\");\n      } else {\n        toast.error(\n          error instanceof Error \n            ? `Update failed: ${error.message}` \n            : \"Failed to update champion data\"\n        );\n      }\n      throw error;\n    } finally {\n      setIsUpdating(false);\n      setProgress(null);\n      abortControllerRef.current = null;\n    }\n  }, [isUpdating, updateProgress]);\n\n  // Cancel update function\n  const cancelUpdate = useCallback(() => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n  }, []);\n\n  return {\n    updateData,\n    cancelUpdate,\n    isUpdating,\n    progress,\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 648, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/lib/hooks/use-champions.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { useGameStore } from \"@/lib/store\";\nimport { Champion } from \"../types\";\n\nexport function useChampions() {\n  const { leaguePath } = useGameStore();\n  const [champions, setChampions] = useState<Champion[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [hasData, setHasData] = useState<boolean | null>(null);\n\n  useEffect(() => {\n    if (!leaguePath) return;\n    setLoading(true);\n    setError(null);\n    async function checkData() {\n      try {\n        const dataExists = await invoke<boolean>(\"check_champions_data\");\n        setHasData(dataExists);\n\n        if (!dataExists) {\n          setError(\"No champion data found. Please run the data update first.\");\n          setLoading(false);\n          return;\n        }\n\n        const data = await invoke<string>(\"get_champion_data\", {\n          championId: 0,\n        });\n\n        if (!data) {\n          throw new Error(\"No data received from the backend\");\n        }\n\n        const championsData = JSON.parse(data) as Champion[];\n\n        if (!Array.isArray(championsData)) {\n          throw new Error(\n            \"Invalid data format: expected an array of champions\"\n          );\n        }\n\n        setChampions(championsData);\n        setError(null);\n      } catch (error) {\n        console.error(\"Failed to load champions:\", error);\n        setError(\n          error instanceof Error ? error.message : \"Failed to load champions\"\n        );\n        setChampions([]);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    void checkData();\n  }, [leaguePath]);\n\n  return { champions, loading, error, hasData };\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAGO,SAAS;IACd,MAAM,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,mHAAA,CAAA,eAAY,AAAD;IAClC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAkB;IAEvD,CAAA,GAAA,oTAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,YAAY;QACjB,WAAW;QACX,SAAS;QACT,eAAe;YACb,IAAI;gBACF,MAAM,aAAa,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAW;gBACzC,WAAW;gBAEX,IAAI,CAAC,YAAY;oBACf,SAAS;oBACT,WAAW;oBACX;gBACF;gBAEA,MAAM,OAAO,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAU,qBAAqB;oBACrD,YAAY;gBACd;gBAEA,IAAI,CAAC,MAAM;oBACT,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,gBAAgB,KAAK,KAAK,CAAC;gBAEjC,IAAI,CAAC,MAAM,OAAO,CAAC,gBAAgB;oBACjC,MAAM,IAAI,MACR;gBAEJ;gBAEA,aAAa;gBACb,SAAS;YACX,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,6BAA6B;gBAC3C,SACE,iBAAiB,QAAQ,MAAM,OAAO,GAAG;gBAE3C,aAAa,EAAE;YACjB,SAAU;gBACR,WAAW;YACb;QACF;QAEA,KAAK;IACP,GAAG;QAAC;KAAW;IAEf,OAAO;QAAE;QAAW;QAAS;QAAO;IAAQ;AAC9C","debugId":null}},
    {"offset": {"line": 713, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border border-transparent\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,2OAAA,CAAA,MAAG,AAAD,EACvB,ydACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,oSAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 770, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/lib/hooks/use-initialization.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useGameStore } from \"@/lib/store\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { useDataUpdate } from \"./use-data-update\";\n\nexport function useInitialization() {\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [hasStartedUpdate, setHasStartedUpdate] = useState(false);\n  const { updateData } = useDataUpdate();\n  const { setLeaguePath, selectSkin, setFavorites } = useGameStore();\n\n  // Handle initial setup\n  useEffect(() => {\n    let mounted = true;\n\n    async function initialize() {\n      try {\n        // Load saved config (path + skins + favorites)\n        const cfg = await invoke<unknown>(\"load_config\");\n        const { league_path, skins, favorites } = cfg as {\n          league_path?: string;\n          skins?: Array<any>;\n          favorites?: number[];\n        };\n\n        if (league_path) {\n          setLeaguePath(league_path);\n\n          // preload skin selections\n          (skins ?? []).forEach((s: unknown) => {\n            if (\n              typeof s === \"object\" &&\n              s !== null &&\n              \"champion_id\" in s &&\n              \"skin_id\" in s\n            ) {\n              const skinObj = s as {\n                champion_id: number;\n                skin_id: number;\n                chroma_id?: number;\n                fantome?: string;\n              };\n              selectSkin(\n                skinObj.champion_id,\n                skinObj.skin_id,\n                skinObj.chroma_id,\n                skinObj.fantome\n              );\n            }\n          });\n\n          // Load favorites\n          if (favorites) {\n            setFavorites(new Set(favorites));\n          }\n\n          // start watcher\n          void invoke(\"start_auto_inject\", { leaguePath: league_path });\n        }\n\n        // Only check for updates if we haven't already started\n        if (!hasStartedUpdate && mounted) {\n          const needsUpdate = !(await invoke<boolean>(\"check_champions_data\"));\n          console.log(\"Needs update:\", needsUpdate);\n\n          if (needsUpdate) {\n            console.log(\"Starting data update...\");\n            setHasStartedUpdate(true);\n            await updateData();\n          }\n        }\n\n        if (mounted) {\n          setIsInitialized(true);\n        }\n      } catch (error) {\n        console.error(\"Failed to initialize:\", error);\n        if (mounted) {\n          setIsInitialized(true); // Still mark as initialized so UI isn't stuck\n        }\n      }\n    }\n\n    // Only initialize if not already done\n    if (!isInitialized) {\n      void initialize();\n    }\n\n    return () => {\n      mounted = false;\n    };\n  }, [\n    isInitialized,\n    hasStartedUpdate,\n    updateData,\n    setLeaguePath,\n    selectSkin,\n    setFavorites,\n  ]);\n\n  return { isInitialized, hasStartedUpdate, setHasStartedUpdate };\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;;;;;AAEO,SAAS;IACd,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,4IAAA,CAAA,gBAAa,AAAD;IACnC,MAAM,EAAE,aAAa,EAAE,UAAU,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,mHAAA,CAAA,eAAY,AAAD;IAE/D,uBAAuB;IACvB,CAAA,GAAA,oTAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,UAAU;QAEd,eAAe;YACb,IAAI;gBACF,+CAA+C;gBAC/C,MAAM,MAAM,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAW;gBAClC,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG;gBAM1C,IAAI,aAAa;oBACf,cAAc;oBAEd,0BAA0B;oBAC1B,CAAC,SAAS,EAAE,EAAE,OAAO,CAAC,CAAC;wBACrB,IACE,OAAO,MAAM,YACb,MAAM,QACN,iBAAiB,KACjB,aAAa,GACb;4BACA,MAAM,UAAU;4BAMhB,WACE,QAAQ,WAAW,EACnB,QAAQ,OAAO,EACf,QAAQ,SAAS,EACjB,QAAQ,OAAO;wBAEnB;oBACF;oBAEA,iBAAiB;oBACjB,IAAI,WAAW;wBACb,aAAa,IAAI,IAAI;oBACvB;oBAEA,gBAAgB;oBAChB,KAAK,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAE,qBAAqB;wBAAE,YAAY;oBAAY;gBAC7D;gBAEA,uDAAuD;gBACvD,IAAI,CAAC,oBAAoB,SAAS;oBAChC,MAAM,cAAc,CAAE,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAW;oBAC5C,QAAQ,GAAG,CAAC,iBAAiB;oBAE7B,IAAI,aAAa;wBACf,QAAQ,GAAG,CAAC;wBACZ,oBAAoB;wBACpB,MAAM;oBACR;gBACF;gBAEA,IAAI,SAAS;oBACX,iBAAiB;gBACnB;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yBAAyB;gBACvC,IAAI,SAAS;oBACX,iBAAiB,OAAO,8CAA8C;gBACxE;YACF;QACF;QAEA,sCAAsC;QACtC,IAAI,CAAC,eAAe;YAClB,KAAK;QACP;QAEA,OAAO;YACL,UAAU;QACZ;IACF,GAAG;QACD;QACA;QACA;QACA;QACA;QACA;KACD;IAED,OAAO;QAAE;QAAe;QAAkB;IAAoB;AAChE","debugId":null}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/game-directory/GameDirectorySelector.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { useGameStore } from \"@/lib/store\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { toast } from \"sonner\";\nimport { useInitialization } from \"@/lib/hooks/use-initialization\";\n\nexport function GameDirectorySelector() {\n  const [isLoading, setIsLoading] = useState(false);\n  const { isInitialized } = useInitialization();\n  const leaguePath = useGameStore((s) => s.leaguePath);\n  const setLeaguePath = useGameStore((s) => s.setLeaguePath);\n\n  const handleSelectDirectory = async () => {\n    try {\n      setIsLoading(true);\n      const path = await invoke<string>(\"select_league_directory\");\n      if (path) {\n        setLeaguePath(path);\n        toast.success(\"League of Legends directory selected successfully\");\n      }\n    } catch (err) {\n      console.error(\"Failed to select League directory:\", err);\n      toast.error(\"Failed to select directory\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleAutoDetect = async () => {\n    try {\n      setIsLoading(true);\n      const path = await invoke<string>(\"auto_detect_league\");\n      if (path) {\n        setLeaguePath(path);\n        toast.success(\"League of Legends installation found\");\n      }\n    } catch (err) {\n      console.error(\"Failed to detect League directory:\", err);\n      toast.error(\n        \"Could not find League of Legends installation automatically\"\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Don't show anything while initializing to prevent flash\n  if (!isInitialized) {\n    return null;\n  }\n\n  return (\n    <main className=\"flex min-h-full flex-col items-center justify-center p-24\">\n      <div className=\"flex flex-col items-center gap-8\">\n        <h1 className=\"text-2xl font-bold\">Welcome to League Skin Manager</h1>\n        <p className=\"text-muted-foreground\">\n          Please select your League of Legends installation directory to\n          continue\n        </p>\n        <div className=\"flex flex-col gap-4 items-center\">\n          <div className=\"flex items-center gap-4\">\n            <Button\n              onClick={() => void handleAutoDetect()}\n              disabled={isLoading}\n              variant=\"default\"\n            >\n              {isLoading ? \"Detecting...\" : \"Auto-Detect\"}\n            </Button>\n            <Button\n              onClick={() => void handleSelectDirectory()}\n              disabled={isLoading}\n              variant=\"outline\"\n            >\n              {isLoading ? \"Selecting...\" : \"Browse\"}\n            </Button>\n          </div>\n          {leaguePath && (\n            <p className=\"text-sm text-muted-foreground\">\n              Found at: {leaguePath}\n            </p>\n          )}\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAEO,SAAS;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,4IAAA,CAAA,oBAAiB,AAAD;IAC1C,MAAM,aAAa,CAAA,GAAA,mHAAA,CAAA,eAAY,AAAD,EAAE,CAAC,IAAM,EAAE,UAAU;IACnD,MAAM,gBAAgB,CAAA,GAAA,mHAAA,CAAA,eAAY,AAAD,EAAE,CAAC,IAAM,EAAE,aAAa;IAEzD,MAAM,wBAAwB;QAC5B,IAAI;YACF,aAAa;YACb,MAAM,OAAO,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAU;YAClC,IAAI,MAAM;gBACR,cAAc;gBACd,wQAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YAChB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,sCAAsC;YACpD,wQAAA,CAAA,QAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,mBAAmB;QACvB,IAAI;YACF,aAAa;YACb,MAAM,OAAO,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAU;YAClC,IAAI,MAAM;gBACR,cAAc;gBACd,wQAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YAChB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,sCAAsC;YACpD,wQAAA,CAAA,QAAK,CAAC,KAAK,CACT;QAEJ,SAAU;YACR,aAAa;QACf;IACF;IAEA,0DAA0D;IAC1D,IAAI,CAAC,eAAe;QAClB,OAAO;IACT;IAEA,qBACE,6VAAC;QAAK,WAAU;kBACd,cAAA,6VAAC;YAAI,WAAU;;8BACb,6VAAC;oBAAG,WAAU;8BAAqB;;;;;;8BACnC,6VAAC;oBAAE,WAAU;8BAAwB;;;;;;8BAIrC,6VAAC;oBAAI,WAAU;;sCACb,6VAAC;4BAAI,WAAU;;8CACb,6VAAC,kIAAA,CAAA,SAAM;oCACL,SAAS,IAAM,KAAK;oCACpB,UAAU;oCACV,SAAQ;8CAEP,YAAY,iBAAiB;;;;;;8CAEhC,6VAAC,kIAAA,CAAA,SAAM;oCACL,SAAS,IAAM,KAAK;oCACpB,UAAU;oCACV,SAAQ;8CAEP,YAAY,iBAAiB;;;;;;;;;;;;wBAGjC,4BACC,6VAAC;4BAAE,WAAU;;gCAAgC;gCAChC;;;;;;;;;;;;;;;;;;;;;;;;AAOzB","debugId":null}},
    {"offset": {"line": 1003, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/lib/hooks/use-champion-persistence.ts"],"sourcesContent":["import { useEffect } from \"react\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { useGameStore } from \"@/lib/store\";\n\n/**\n * Hook for persisting champion configurations\n */\nexport function useChampionPersistence() {\n  const { leaguePath, selectedSkins, favorites } = useGameStore();\n\n  // Persist configuration (league path + selected skins + favorites) on change\n  useEffect(() => {\n    if (!leaguePath) return;\n\n    // prepare skins array from Map\n    const skins = Array.from(selectedSkins.values()).map((s) => ({\n      champion_id: s.championId,\n      skin_id: s.skinId,\n      chroma_id: s.chromaId,\n      fantome: s.fantome,\n    }));\n\n    invoke(\"save_selected_skins\", {\n      leaguePath: leaguePath,\n      skins,\n      favorites: Array.from(favorites),\n    }).catch((err: unknown) => {\n      console.error(err);\n    });\n  }, [leaguePath, selectedSkins, favorites]);\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAKO,SAAS;IACd,MAAM,EAAE,UAAU,EAAE,aAAa,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,mHAAA,CAAA,eAAY,AAAD;IAE5D,6EAA6E;IAC7E,CAAA,GAAA,oTAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,YAAY;QAEjB,+BAA+B;QAC/B,MAAM,QAAQ,MAAM,IAAI,CAAC,cAAc,MAAM,IAAI,GAAG,CAAC,CAAC,IAAM,CAAC;gBAC3D,aAAa,EAAE,UAAU;gBACzB,SAAS,EAAE,MAAM;gBACjB,WAAW,EAAE,QAAQ;gBACrB,SAAS,EAAE,OAAO;YACpB,CAAC;QAED,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAE,uBAAuB;YAC5B,YAAY;YACZ;YACA,WAAW,MAAM,IAAI,CAAC;QACxB,GAAG,KAAK,CAAC,CAAC;YACR,QAAQ,KAAK,CAAC;QAChB;IACF,GAAG;QAAC;QAAY;QAAe;KAAU;AAC3C","debugId":null}},
    {"offset": {"line": 1043, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/lib/utils/champion-utils.ts"],"sourcesContent":["import { Champion } from \"@/lib/types\";\n\n// Cache for search results to improve performance\nconst searchCache = new Map<string, Champion[]>();\nconst CACHE_MAX_SIZE = 100;\n\n/**\n * Optimized champion filtering with caching and improved search logic\n */\nexport function filterAndSortChampions(\n  champions: Champion[],\n  searchQuery: string,\n  favorites: Set<number>\n): Champion[] {\n  const normalizedQuery = searchQuery.toLowerCase().trim();\n  const cacheKey = `${normalizedQuery}-${Array.from(favorites).sort().join(',')}-${champions.length}`;\n  \n  // Check cache first\n  if (searchCache.has(cacheKey)) {\n    return searchCache.get(cacheKey)!;\n  }\n\n  let result: Champion[];\n\n  if (!normalizedQuery) {\n    // No search query - just sort by favorites and name\n    result = [...champions].sort((a, b) => {\n      const aFav = favorites.has(a.id);\n      const bFav = favorites.has(b.id);\n      if (aFav !== bFav) return aFav ? -1 : 1;\n      return a.name.localeCompare(b.name);\n    });\n  } else {\n    // Filter and rank by search relevance\n    const championsWithScores = champions\n      .map(champion => ({\n        champion,\n        score: getMatchScore(champion.name, normalizedQuery),\n        isFavorite: favorites.has(champion.id)\n      }))\n      .filter(item => item.score > 0)\n      .sort((a, b) => {\n        // First sort by favorite status\n        if (a.isFavorite !== b.isFavorite) {\n          return a.isFavorite ? -1 : 1;\n        }\n        \n        // Then by search score\n        if (a.score !== b.score) {\n          return b.score - a.score;\n        }\n        \n        // Finally alphabetically\n        return a.champion.name.localeCompare(b.champion.name);\n      });\n\n    result = championsWithScores.map(item => item.champion);\n  }\n\n  // Manage cache size\n  if (searchCache.size >= CACHE_MAX_SIZE) {\n    const firstKey = searchCache.keys().next().value;\n    searchCache.delete(firstKey);\n  }\n  \n  searchCache.set(cacheKey, result);\n  return result;\n}\n\n/**\n * Enhanced match scoring with fuzzy search support\n */\nexport function getMatchScore(championName: string, query: string): number {\n  const normalizedName = championName.toLowerCase();\n  const normalizedQuery = query.toLowerCase();\n\n  // Exact match gets highest score\n  if (normalizedName === normalizedQuery) return 100;\n\n  // Starts with query gets very high score\n  if (normalizedName.startsWith(normalizedQuery)) return 90;\n\n  // Check for acronym matches (e.g., \"mf\" for \"Miss Fortune\")\n  const acronymScore = getAcronymScore(championName, query);\n  if (acronymScore > 0) return 85 + acronymScore;\n\n  // Contains query as a whole word gets high score\n  const wordBoundaryRegex = new RegExp(`\\\\b${escapeRegExp(normalizedQuery)}\\\\b`);\n  if (wordBoundaryRegex.test(normalizedName)) return 80;\n\n  // Contains query gets medium score\n  if (normalizedName.includes(normalizedQuery)) return 60;\n\n  // Fuzzy matching for typos (simple edit distance)\n  const fuzzyScore = getFuzzyScore(normalizedName, normalizedQuery);\n  if (fuzzyScore > 0.7) return Math.floor(40 * fuzzyScore);\n\n  // No match\n  return 0;\n}\n\n/**\n * Calculate acronym match score\n */\nfunction getAcronymScore(championName: string, query: string): number {\n  const words = championName.split(/\\s+|'/);\n  const acronym = words.map(word => word[0]?.toLowerCase()).join('');\n  \n  if (acronym === query.toLowerCase()) return 10;\n  if (acronym.startsWith(query.toLowerCase())) return 5;\n  \n  return 0;\n}\n\n/**\n * Simple fuzzy matching using normalized edit distance\n */\nfunction getFuzzyScore(str1: string, str2: string): number {\n  if (str1.length === 0) return str2.length === 0 ? 1 : 0;\n  if (str2.length === 0) return 0;\n\n  const maxLength = Math.max(str1.length, str2.length);\n  const distance = levenshteinDistance(str1, str2);\n  \n  return 1 - (distance / maxLength);\n}\n\n/**\n * Calculate Levenshtein distance between two strings\n */\nfunction levenshteinDistance(str1: string, str2: string): number {\n  const matrix = Array(str2.length + 1).fill(null).map(() => Array(str1.length + 1).fill(null));\n\n  for (let i = 0; i <= str1.length; i++) {\n    matrix[0][i] = i;\n  }\n\n  for (let j = 0; j <= str2.length; j++) {\n    matrix[j][0] = j;\n  }\n\n  for (let j = 1; j <= str2.length; j++) {\n    for (let i = 1; i <= str1.length; i++) {\n      const indicator = str1[i - 1] === str2[j - 1] ? 0 : 1;\n      matrix[j][i] = Math.min(\n        matrix[j][i - 1] + 1, // deletion\n        matrix[j - 1][i] + 1, // insertion\n        matrix[j - 1][i - 1] + indicator // substitution\n      );\n    }\n  }\n\n  return matrix[str2.length][str1.length];\n}\n\n/**\n * Escape special regex characters\n */\nfunction escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\n/**\n * Clear the search cache (useful for memory management)\n */\nexport function clearSearchCache(): void {\n  searchCache.clear();\n}\n\n/**\n * Group champions by role/position for better organization\n */\nexport function groupChampionsByRole(champions: Champion[]): Record<string, Champion[]> {\n  const groups: Record<string, Champion[]> = {\n    assassin: [],\n    fighter: [],\n    mage: [],\n    marksman: [],\n    support: [],\n    tank: [],\n    other: []\n  };\n\n  champions.forEach(champion => {\n    // This would need actual role data from the champion object\n    // For now, using a simple fallback\n    const role = champion.tags?.[0]?.toLowerCase() || 'other';\n    const groupKey = groups[role] ? role : 'other';\n    groups[groupKey].push(champion);\n  });\n\n  return groups;\n}\n\n/**\n * Get recently selected champions (would need to integrate with storage)\n */\nexport function getRecentChampions(champions: Champion[], recentIds: number[], limit: number = 5): Champion[] {\n  return recentIds\n    .slice(0, limit)\n    .map(id => champions.find(champ => champ.id === id))\n    .filter((champ): champ is Champion => champ !== undefined);\n}\n\n/**\n * Search champions with debounced execution for better performance\n */\nexport function createDebouncedSearch(\n  delay: number = 300\n): (champions: Champion[], query: string, favorites: Set<number>) => Promise<Champion[]> {\n  let timeoutId: NodeJS.Timeout;\n  \n  return (champions: Champion[], query: string, favorites: Set<number>) => {\n    return new Promise((resolve) => {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        resolve(filterAndSortChampions(champions, query, favorites));\n      }, delay);\n    });\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1205, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Skeleton };\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 1230, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction ScrollArea({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\n  return (\n    <ScrollAreaPrimitive.Root\n      data-slot=\"scroll-area\"\n      className={cn(\"relative overflow-hidden\", className)}\n      {...props}\n    >\n      <ScrollAreaPrimitive.Viewport\n        data-slot=\"scroll-area-viewport\"\n        className={cn(\n          \"size-full rounded-[inherit] transition-[color,box-shadow] outline-none\",\n          \"focus-visible:ring-2 focus-visible:ring-ring/50 focus-visible:ring-offset-2\",\n          \"[&>div]:!block\" // Ensure content is displayed as block\n        )}\n        style={{ scrollBehavior: 'smooth' }}\n      >\n        {children}\n      </ScrollAreaPrimitive.Viewport>\n      <ScrollBar />\n      <ScrollAreaPrimitive.Corner />\n    </ScrollAreaPrimitive.Root>\n  );\n}\n\nfunction ScrollBar({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\n  return (\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\n      data-slot=\"scroll-area-scrollbar\"\n      orientation={orientation}\n      className={cn(\n        \"flex touch-none select-none transition-all duration-200 ease-out\",\n        \"hover:bg-muted/20 data-[state=visible]:opacity-100 data-[state=hidden]:opacity-0\",\n        orientation === \"vertical\" &&\n          \"h-full w-3 border-l border-l-transparent p-[1px]\",\n        orientation === \"horizontal\" &&\n          \"h-3 flex-col border-t border-t-transparent p-[1px]\",\n        className\n      )}\n      {...props}\n    >\n      <ScrollAreaPrimitive.ScrollAreaThumb\n        data-slot=\"scroll-area-thumb\"\n        className={cn(\n          \"relative flex-1 rounded-full transition-all duration-200\",\n          \"bg-border/60 hover:bg-border/80 active:bg-border\",\n          \"hover:shadow-sm\"\n        )}\n      />\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\n  );\n}\n\nexport { ScrollArea, ScrollBar };\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6VAAC,iRAAA,CAAA,OAAwB;QACvB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6VAAC,iRAAA,CAAA,WAA4B;gBAC3B,aAAU;gBACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0EACA,+EACA,iBAAiB,uCAAuC;;gBAE1D,OAAO;oBAAE,gBAAgB;gBAAS;0BAEjC;;;;;;0BAEH,6VAAC;;;;;0BACD,6VAAC,iRAAA,CAAA,SAA0B;;;;;;;;;;;AAGjC;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE;IACrE,qBACE,6VAAC,iRAAA,CAAA,sBAAuC;QACtC,aAAU;QACV,aAAa;QACb,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,oEACA,oFACA,gBAAgB,cACd,oDACF,gBAAgB,gBACd,sDACF;QAED,GAAG,KAAK;kBAET,cAAA,6VAAC,iRAAA,CAAA,kBAAmC;YAClC,aAAU;YACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA,oDACA;;;;;;;;;;;AAKV","debugId":null}},
    {"offset": {"line": 1304, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-background text-background-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 1401, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ChampionCard.tsx"],"sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport { Champion } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\nimport { Card } from \"./ui/card\";\nimport Image from \"next/image\";\nimport { Heart, User } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\ninterface ChampionCardProps {\n  champion: Champion;\n  isSelected: boolean;\n  isFavorite: boolean;\n  onToggleFavorite: () => void;\n  onClick: () => void;\n}\n\nexport const ChampionCard = React.memo(function ChampionCard({\n  champion,\n  isSelected,\n  isFavorite,\n  onToggleFavorite,\n  onClick,\n}: ChampionCardProps) {\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [imageError, setImageError] = useState(false);\n  const [isHovering, setIsHovering] = useState(false);\n\n  const handleFavoriteClick = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    onToggleFavorite();\n  }, [onToggleFavorite]);\n\n  const handleImageLoad = useCallback(() => {\n    setImageLoaded(true);\n    setImageError(false);\n  }, []);\n\n  const handleImageError = useCallback(() => {\n    setImageError(true);\n    setImageLoaded(false);\n  }, []);\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.9 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{ duration: 0.2 }}\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n      onHoverStart={() => setIsHovering(true)}\n      onHoverEnd={() => setIsHovering(false)}\n    >\n      <Card\n        className={cn(\n          \"relative aspect-square cursor-pointer overflow-hidden transition-all duration-200 p-0 rounded-lg group\",\n          \"hover:shadow-lg hover:shadow-primary/20\",\n          isSelected \n            ? \"ring-2 ring-primary shadow-md shadow-primary/30\" \n            : \"hover:ring-1 hover:ring-primary/30\"\n        )}\n        onClick={onClick}\n      >\n        {/* Favorite button */}\n        <motion.button\n          className={cn(\n            \"absolute top-2 right-2 z-20 p-1.5 rounded-full backdrop-blur-sm transition-all\",\n            \"hover:scale-110 active:scale-95\",\n            isFavorite \n              ? \"bg-red-500/20 hover:bg-red-500/30\" \n              : \"bg-black/20 hover:bg-black/40\"\n          )}\n          onClick={handleFavoriteClick}\n          whileHover={{ scale: 1.1 }}\n          whileTap={{ scale: 0.9 }}\n        >\n          <Heart\n            size={14}\n            className={cn(\n              \"transition-all duration-200\",\n              isFavorite \n                ? \"fill-red-500 text-red-500 drop-shadow-sm\" \n                : \"text-white/80 hover:text-white\"\n            )}\n          />\n        </motion.button>\n\n        {/* Champion image */}\n        {champion.iconSrc && !imageError ? (\n          <Image\n            src={champion.iconSrc}\n            alt={champion.name}\n            className={cn(\n              \"size-full object-cover transition-all duration-300 group-hover:scale-110\",\n              imageLoaded ? \"opacity-100\" : \"opacity-0\"\n            )}\n            loading=\"lazy\"\n            width={64}\n            height={64}\n            onLoad={handleImageLoad}\n            onError={handleImageError}\n            unoptimized\n          />\n        ) : (\n          <div className=\"size-full bg-gradient-to-br from-muted/50 to-muted/30 flex items-center justify-center\">\n            <User className=\"h-6 w-6 text-muted-foreground/60\" />\n          </div>\n        )}\n\n        {/* Loading state */}\n        {!imageLoaded && !imageError && (\n          <div className=\"absolute inset-0 bg-muted/20 flex items-center justify-center\">\n            <motion.div\n              animate={{ rotate: 360 }}\n              transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n              className=\"w-4 h-4 border-2 border-primary border-t-transparent rounded-full\"\n            />\n          </div>\n        )}\n\n        {/* Selection indicator */}\n        <AnimatePresence>\n          {isSelected && (\n            <motion.div\n              initial={{ opacity: 0, scale: 0.5 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.5 }}\n              className=\"absolute inset-0 bg-primary/20 flex items-center justify-center backdrop-blur-sm\"\n            >\n              <div className=\"w-6 h-6 bg-primary rounded-full flex items-center justify-center\">\n                <div className=\"w-2 h-2 bg-white rounded-full\" />\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Hover overlay with champion name */}\n        <AnimatePresence>\n          {isHovering && !isSelected && (\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: 10 }}\n              className=\"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent p-2\"\n            >\n              <p className=\"text-white text-xs font-medium text-center truncate\">\n                {champion.name}\n              </p>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </Card>\n    </motion.div>\n  );\n});\n"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;AAWO,MAAM,6BAAe,oTAAA,CAAA,UAAK,CAAC,IAAI,CAAC,SAAS,aAAa,EAC3D,QAAQ,EACR,UAAU,EACV,UAAU,EACV,gBAAgB,EAChB,OAAO,EACW;IAClB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,sBAAsB,CAAA,GAAA,oTAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACvC,EAAE,eAAe;QACjB;IACF,GAAG;QAAC;KAAiB;IAErB,MAAM,kBAAkB,CAAA,GAAA,oTAAA,CAAA,cAAW,AAAD,EAAE;QAClC,eAAe;QACf,cAAc;IAChB,GAAG,EAAE;IAEL,MAAM,mBAAmB,CAAA,GAAA,oTAAA,CAAA,cAAW,AAAD,EAAE;QACnC,cAAc;QACd,eAAe;IACjB,GAAG,EAAE;IAEL,qBACE,6VAAC,OAAO,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,OAAO;QAAI;QAClC,SAAS;YAAE,SAAS;YAAG,OAAO;QAAE;QAChC,YAAY;YAAE,UAAU;QAAI;QAC5B,YAAY;YAAE,OAAO;QAAK;QAC1B,UAAU;YAAE,OAAO;QAAK;QACxB,cAAc,IAAM,cAAc;QAClC,YAAY,IAAM,cAAc;kBAEhC,cAAA,6VAAC,gIAAA,CAAA,OAAI;YACH,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0GACA,2CACA,aACI,oDACA;YAEN,SAAS;;8BAGT,6VAAC,OAAO,MAAM;oBACZ,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kFACA,mCACA,aACI,sCACA;oBAEN,SAAS;oBACT,YAAY;wBAAE,OAAO;oBAAI;oBACzB,UAAU;wBAAE,OAAO;oBAAI;8BAEvB,cAAA,6VAAC,wRAAA,CAAA,QAAK;wBACJ,MAAM;wBACN,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+BACA,aACI,6CACA;;;;;;;;;;;gBAMT,SAAS,OAAO,IAAI,CAAC,2BACpB,6VAAC,4OAAA,CAAA,UAAK;oBACJ,KAAK,SAAS,OAAO;oBACrB,KAAK,SAAS,IAAI;oBAClB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4EACA,cAAc,gBAAgB;oBAEhC,SAAQ;oBACR,OAAO;oBACP,QAAQ;oBACR,QAAQ;oBACR,SAAS;oBACT,WAAW;;;;;yCAGb,6VAAC;oBAAI,WAAU;8BACb,cAAA,6VAAC,sRAAA,CAAA,OAAI;wBAAC,WAAU;;;;;;;;;;;gBAKnB,CAAC,eAAe,CAAC,4BAChB,6VAAC;oBAAI,WAAU;8BACb,cAAA,6VAAC,OAAO,GAAG;wBACT,SAAS;4BAAE,QAAQ;wBAAI;wBACvB,YAAY;4BAAE,UAAU;4BAAG,QAAQ;4BAAU,MAAM;wBAAS;wBAC5D,WAAU;;;;;;;;;;;8BAMhB,6VAAC;8BACE,4BACC,6VAAC,OAAO,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,OAAO;wBAAI;wBAClC,SAAS;4BAAE,SAAS;4BAAG,OAAO;wBAAE;wBAChC,MAAM;4BAAE,SAAS;4BAAG,OAAO;wBAAI;wBAC/B,WAAU;kCAEV,cAAA,6VAAC;4BAAI,WAAU;sCACb,cAAA,6VAAC;gCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;8BAOvB,6VAAC;8BACE,cAAc,CAAC,4BACd,6VAAC,OAAO,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,MAAM;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC1B,WAAU;kCAEV,cAAA,6VAAC;4BAAE,WAAU;sCACV,SAAS,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ9B","debugId":null}},
    {"offset": {"line": 1627, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ChampionGrid.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useMemo } from \"react\";\nimport { Champion } from \"@/lib/types\";\nimport { Card, CardContent } from \"./ui/card\";\nimport { Skeleton } from \"./ui/skeleton\";\nimport { ScrollArea } from \"./ui/scroll-area\";\nimport { ChampionCard } from \"@/components/ChampionCard\";\n\ninterface ChampionGridProps {\n  champions: Champion[];\n  selectedChampionId: number | null;\n  favorites: Set<number>;\n  onSelectChampion: (id: number) => void;\n  onToggleFavorite: (id: number) => void;\n}\n\nfunction ChampionGridLoading() {\n  return (\n    <ScrollArea className=\"h-full w-full\">\n      <div className=\"p-4\">\n        <div className=\"w-full h-fit mx-auto grid grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-3\">\n          {Array.from({ length: 45 }).map((_, i) => (\n            <Skeleton \n              key={i} \n              className=\"aspect-square size-[64px] rounded-lg animate-pulse\" \n              style={{ animationDelay: `${i * 50}ms` }}\n            />\n          ))}\n        </div>\n      </div>\n    </ScrollArea>\n  );\n}\n\nconst ChampionGrid = React.memo(function ChampionGrid({\n  champions,\n  selectedChampionId,\n  favorites,\n  onSelectChampion,\n  onToggleFavorite,\n}: ChampionGridProps) {\n  // Memoize sorted champions for better performance\n  const sortedChampions = useMemo(() => {\n    return [...champions].sort((a, b) => {\n      const aFav = favorites.has(a.id) ? 1 : 0;\n      const bFav = favorites.has(b.id) ? 1 : 0;\n      if (bFav !== aFav) return bFav - aFav;\n      // Secondary sort by name for consistent ordering\n      return a.name.localeCompare(b.name);\n    });\n  }, [champions, favorites]);\n\n  if (champions.length === 0) {\n    return <ChampionGridLoading />;\n  }\n\n  return (\n    <ScrollArea className=\"h-full w-full\">\n      <div className=\"p-4\">\n        <div className=\"w-fit mx-auto grid grid-cols-3 md:grid-cols-4 xl:grid-cols-5 gap-3\">\n          {sortedChampions.map((champion: Champion) => (\n            <ChampionCard\n              key={champion.id}\n              champion={champion}\n              isSelected={selectedChampionId === champion.id}\n              isFavorite={favorites.has(champion.id)}\n              onToggleFavorite={() => {\n                onToggleFavorite(champion.id);\n              }}\n              onClick={() => {\n                onSelectChampion(champion.id);\n              }}\n            />\n          ))}\n        </div>\n      </div>\n    </ScrollArea>\n  );\n});\n\nexport default ChampionGrid;\n"],"names":[],"mappings":";;;;AAEA;AAGA;AACA;AACA;AAPA;;;;;;AAiBA,SAAS;IACP,qBACE,6VAAC,0IAAA,CAAA,aAAU;QAAC,WAAU;kBACpB,cAAA,6VAAC;YAAI,WAAU;sBACb,cAAA,6VAAC;gBAAI,WAAU;0BACZ,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAG,GAAG,GAAG,CAAC,CAAC,GAAG,kBAClC,6VAAC,oIAAA,CAAA,WAAQ;wBAEP,WAAU;wBACV,OAAO;4BAAE,gBAAgB,GAAG,IAAI,GAAG,EAAE,CAAC;wBAAC;uBAFlC;;;;;;;;;;;;;;;;;;;;AASnB;AAEA,MAAM,6BAAe,oTAAA,CAAA,UAAK,CAAC,IAAI,CAAC,SAAS,aAAa,EACpD,SAAS,EACT,kBAAkB,EAClB,SAAS,EACT,gBAAgB,EAChB,gBAAgB,EACE;IAClB,kDAAkD;IAClD,MAAM,kBAAkB,CAAA,GAAA,oTAAA,CAAA,UAAO,AAAD,EAAE;QAC9B,OAAO;eAAI;SAAU,CAAC,IAAI,CAAC,CAAC,GAAG;YAC7B,MAAM,OAAO,UAAU,GAAG,CAAC,EAAE,EAAE,IAAI,IAAI;YACvC,MAAM,OAAO,UAAU,GAAG,CAAC,EAAE,EAAE,IAAI,IAAI;YACvC,IAAI,SAAS,MAAM,OAAO,OAAO;YACjC,iDAAiD;YACjD,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE,IAAI;QACpC;IACF,GAAG;QAAC;QAAW;KAAU;IAEzB,IAAI,UAAU,MAAM,KAAK,GAAG;QAC1B,qBAAO,6VAAC;;;;;IACV;IAEA,qBACE,6VAAC,0IAAA,CAAA,aAAU;QAAC,WAAU;kBACpB,cAAA,6VAAC;YAAI,WAAU;sBACb,cAAA,6VAAC;gBAAI,WAAU;0BACZ,gBAAgB,GAAG,CAAC,CAAC,yBACpB,6VAAC,kIAAA,CAAA,eAAY;wBAEX,UAAU;wBACV,YAAY,uBAAuB,SAAS,EAAE;wBAC9C,YAAY,UAAU,GAAG,CAAC,SAAS,EAAE;wBACrC,kBAAkB;4BAChB,iBAAiB,SAAS,EAAE;wBAC9B;wBACA,SAAS;4BACP,iBAAiB,SAAS,EAAE;wBAC9B;uBATK,SAAS,EAAE;;;;;;;;;;;;;;;;;;;;AAgB9B;uCAEe","debugId":null}},
    {"offset": {"line": 1743, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ChromaSelector.tsx"],"sourcesContent":["import { ChromaInSummary } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\n\ninterface ChromaSelectorProps {\n  chromas: ChromaInSummary[];\n  onSelect: (chroma: ChromaInSummary | null) => void;\n  selectedChromaId?: number;\n}\n\nexport function ChromaSelector({\n  chromas,\n  onSelect,\n  selectedChromaId,\n}: ChromaSelectorProps) {\n  // Create a multi-color gradient for the dot\n  const gradient = `conic-gradient(${chromas\n    .map(\n      (c, i) =>\n        `${c.colors[0] ?? \"#fff\"} ${(i * 100) / chromas.length}% ${\n          ((i + 1) * 100) / chromas.length\n        }%`\n    )\n    .join(\", \")})`;\n\n  return (\n    <div className=\"relative flex flex-col items-center group\">\n      {/* Main dot with gradient */}\n      <div\n        className={cn(\n          \"size-7 rounded-full border border-primary shadow cursor-pointer\"\n        )}\n        style={{ background: gradient }}\n      />\n      {/* Animated vertical chroma popup */}\n      <div\n        className={cn(\n          \"absolute left-1/2 -translate-x-1/2 flex flex-col gap-1 z-30 opacity-0 translate-y-4 pointer-events-none group-hover:opacity-100 group-hover:-translate-y-0 pb-8 group-hover:pointer-events-auto transition-all duration-300 origin-bottom\"\n        )}\n        style={{\n          bottom: 0,\n          filter: \"drop-shadow(0 4px 12px rgba(0,0,0,0.18))\",\n        }}\n      >\n        {chromas.map((chroma) => (\n          <button\n            key={chroma.id}\n            type=\"button\"\n            className={cn(\n              \"w-6 h-6 rounded-full border flex items-center justify-center transition-all duration-200 bg-white/10 cursor-pointer relative\",\n              selectedChromaId === chroma.id && \"border-2 border-primary\"\n            )}\n            style={{\n              background: `linear-gradient(135deg, ${chroma.colors.join(\n                \", \"\n              )})`,\n              boxShadow: \"0 1px 4px 0 rgba(0,0,0,0.10)\",\n            }}\n            onClick={(e) => {\n              e.stopPropagation();\n              onSelect(chroma);\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;;;AAQO,SAAS,eAAe,EAC7B,OAAO,EACP,QAAQ,EACR,gBAAgB,EACI;IACpB,4CAA4C;IAC5C,MAAM,WAAW,CAAC,eAAe,EAAE,QAChC,GAAG,CACF,CAAC,GAAG,IACF,GAAG,EAAE,MAAM,CAAC,EAAE,IAAI,OAAO,CAAC,EAAE,AAAC,IAAI,MAAO,QAAQ,MAAM,CAAC,EAAE,EACvD,AAAC,CAAC,IAAI,CAAC,IAAI,MAAO,QAAQ,MAAM,CACjC,CAAC,CAAC,EAEN,IAAI,CAAC,MAAM,CAAC,CAAC;IAEhB,qBACE,6VAAC;QAAI,WAAU;;0BAEb,6VAAC;gBACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV;gBAEF,OAAO;oBAAE,YAAY;gBAAS;;;;;;0BAGhC,6VAAC;gBACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV;gBAEF,OAAO;oBACL,QAAQ;oBACR,QAAQ;gBACV;0BAEC,QAAQ,GAAG,CAAC,CAAC,uBACZ,6VAAC;wBAEC,MAAK;wBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,gIACA,qBAAqB,OAAO,EAAE,IAAI;wBAEpC,OAAO;4BACL,YAAY,CAAC,wBAAwB,EAAE,OAAO,MAAM,CAAC,IAAI,CACvD,MACA,CAAC,CAAC;4BACJ,WAAW;wBACb;wBACA,SAAS,CAAC;4BACR,EAAE,eAAe;4BACjB,SAAS;wBACX;uBAfK,OAAO,EAAE;;;;;;;;;;;;;;;;AAqB1B","debugId":null}},
    {"offset": {"line": 1806, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/lib/hooks/use-skin-card-logic.ts"],"sourcesContent":["import { useState, useRef, useEffect, useCallback } from \"react\";\nimport { ChromaInSummary, Skin } from \"@/lib/types\";\nimport { useGameStore } from \"@/lib/store\";\n\nexport function useSkinCardLogic(championId: number, skin: Skin) {\n  const { selectedSkins, selectSkin, clearSelection } = useGameStore();\n  const selected = selectedSkins.get(championId);\n\n  // Initialize selectedChroma from stored selection if it exists\n  const [selectedChroma, setSelectedChroma] = useState<ChromaInSummary | null>(\n    () => {\n      if (selected?.skinId === skin.id && selected.chromaId) {\n        return skin.chromas.find((c) => c.id === selected.chromaId) ?? null;\n      }\n      return null;\n    }\n  );\n\n  const [isHovering, setIsHovering] = useState(false);\n  const [imgLoaded, setImgLoaded] = useState(false);\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  // Determine if this card is selected and if a chroma is selected\n  const isSelected =\n    selected?.skinId === skin.id &&\n    (selectedChroma\n      ? selected.chromaId === selectedChroma.id\n      : !selected.chromaId);\n\n  // Show chroma image if selected, otherwise skin image\n  const currentImageSrc = selectedChroma?.skinChromaPath ?? skin.skinSrc;\n\n  // Preload all chroma images on hover\n  const handleMouseEnter = useCallback(() => {\n    setIsHovering(true);\n    skin.chromas.forEach((chroma) => {\n      if (chroma.skinChromaPath) {\n        const img = new window.Image();\n        img.src = chroma.skinChromaPath;\n      }\n    });\n  }, [skin.chromas]);\n\n  const handleMouseLeave = () => {\n    setIsHovering(false);\n  };\n\n  // Select skin or chroma in one click\n  const handleClick = () => {\n    if (isSelected) {\n      clearSelection(championId);\n    } else {\n      selectSkin(\n        championId,\n        skin.id,\n        selectedChroma?.id,\n        selectedChroma?.fantome ?? skin.fantome\n      );\n    }\n  };\n\n  // When a chroma is selected, immediately update selection and image\n  const handleChromaSelect = (chroma: ChromaInSummary | null) => {\n    if (selectedChroma && chroma && selectedChroma.id === chroma.id) {\n      // If clicking the already-selected chroma, reset to base skin\n      setSelectedChroma(null);\n      selectSkin(championId, skin.id, undefined, skin.fantome);\n    } else {\n      setSelectedChroma(chroma);\n      selectSkin(\n        championId,\n        skin.id,\n        chroma?.id,\n        chroma?.fantome ?? skin.fantome\n      );\n    }\n  };\n\n  // Reset image loaded state when switching chroma/skin\n  useEffect(() => {\n    setImgLoaded(false);\n  }, [currentImageSrc]);\n\n  return {\n    cardRef,\n    selectedChroma,\n    setSelectedChroma,\n    isHovering,\n    setIsHovering,\n    imgLoaded,\n    setImgLoaded,\n    isSelected,\n    currentImageSrc,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleClick,\n    handleChromaSelect,\n  };\n}\n"],"names":[],"mappings":";;;AAAA;AAEA;;;AAEO,SAAS,iBAAiB,UAAkB,EAAE,IAAU;IAC7D,MAAM,EAAE,aAAa,EAAE,UAAU,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,mHAAA,CAAA,eAAY,AAAD;IACjE,MAAM,WAAW,cAAc,GAAG,CAAC;IAEnC,+DAA+D;IAC/D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EACjD;QACE,IAAI,UAAU,WAAW,KAAK,EAAE,IAAI,SAAS,QAAQ,EAAE;YACrD,OAAO,KAAK,OAAO,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,SAAS,QAAQ,KAAK;QACjE;QACA,OAAO;IACT;IAGF,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,UAAU,CAAA,GAAA,oTAAA,CAAA,SAAM,AAAD,EAAkB;IAEvC,iEAAiE;IACjE,MAAM,aACJ,UAAU,WAAW,KAAK,EAAE,IAC5B,CAAC,iBACG,SAAS,QAAQ,KAAK,eAAe,EAAE,GACvC,CAAC,SAAS,QAAQ;IAExB,sDAAsD;IACtD,MAAM,kBAAkB,gBAAgB,kBAAkB,KAAK,OAAO;IAEtE,qCAAqC;IACrC,MAAM,mBAAmB,CAAA,GAAA,oTAAA,CAAA,cAAW,AAAD,EAAE;QACnC,cAAc;QACd,KAAK,OAAO,CAAC,OAAO,CAAC,CAAC;YACpB,IAAI,OAAO,cAAc,EAAE;gBACzB,MAAM,MAAM,IAAI,OAAO,KAAK;gBAC5B,IAAI,GAAG,GAAG,OAAO,cAAc;YACjC;QACF;IACF,GAAG;QAAC,KAAK,OAAO;KAAC;IAEjB,MAAM,mBAAmB;QACvB,cAAc;IAChB;IAEA,qCAAqC;IACrC,MAAM,cAAc;QAClB,IAAI,YAAY;YACd,eAAe;QACjB,OAAO;YACL,WACE,YACA,KAAK,EAAE,EACP,gBAAgB,IAChB,gBAAgB,WAAW,KAAK,OAAO;QAE3C;IACF;IAEA,oEAAoE;IACpE,MAAM,qBAAqB,CAAC;QAC1B,IAAI,kBAAkB,UAAU,eAAe,EAAE,KAAK,OAAO,EAAE,EAAE;YAC/D,8DAA8D;YAC9D,kBAAkB;YAClB,WAAW,YAAY,KAAK,EAAE,EAAE,WAAW,KAAK,OAAO;QACzD,OAAO;YACL,kBAAkB;YAClB,WACE,YACA,KAAK,EAAE,EACP,QAAQ,IACR,QAAQ,WAAW,KAAK,OAAO;QAEnC;IACF;IAEA,sDAAsD;IACtD,CAAA,GAAA,oTAAA,CAAA,YAAS,AAAD,EAAE;QACR,aAAa;IACf,GAAG;QAAC;KAAgB;IAEpB,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 1892, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/SkinCard.tsx"],"sourcesContent":["import React, { Suspense, useState, useCallback } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { ChromaSelector } from \"./ChromaSelector\";\nimport Image from \"next/image\";\nimport { Card, CardContent, CardFooter } from \"./ui/card\";\nimport { Check, Play, ImageIcon, AlertCircle } from \"lucide-react\";\nimport { Skin } from \"@/lib/types\";\nimport { Skeleton } from \"./ui/skeleton\";\nimport { useSkinCardLogic } from \"@/lib/hooks/use-skin-card-logic\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\ninterface SkinCardProps {\n  championId: number;\n  skin: Skin;\n}\n\nexport const SkinCard = React.memo(function SkinCard({\n  championId,\n  skin,\n}: SkinCardProps) {\n  const {\n    cardRef,\n    selectedChroma,\n    isHovering,\n    imgLoaded,\n    isSelected,\n    currentImageSrc,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleClick,\n    handleChromaSelect,\n    setImgLoaded,\n  } = useSkinCardLogic(championId, skin);\n\n  const [imageError, setImageError] = useState(false);\n  const [isImageLoading, setIsImageLoading] = useState(true);\n\n  const handleImageLoad = useCallback(() => {\n    setImgLoaded(true);\n    setIsImageLoading(false);\n    setImageError(false);\n  }, [setImgLoaded]);\n\n  const handleImageError = useCallback(() => {\n    setImageError(true);\n    setIsImageLoading(false);\n  }, []);\n\n  // Generate a simple placeholder based on skin name\n  const generatePlaceholder = () => {\n    const colors = ['bg-blue-500', 'bg-purple-500', 'bg-green-500', 'bg-red-500', 'bg-yellow-500'];\n    const colorIndex = skin.name.charCodeAt(0) % colors.length;\n    return colors[colorIndex];\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, scale: 0.95 }}\n      animate={{ opacity: 1, scale: 1 }}\n      transition={{ duration: 0.3 }}\n      whileHover={{ scale: 1.02 }}\n      className=\"h-full\"\n    >\n      <Card\n        ref={cardRef}\n        className={cn(\n          \"size-full relative cursor-pointer p-0 rounded-lg overflow-hidden transition-all duration-300 group\",\n          \"hover:shadow-xl hover:shadow-primary/10\",\n          isSelected \n            ? \"ring-2 ring-primary shadow-lg shadow-primary/20\" \n            : \"hover:ring-1 hover:ring-primary/50\"\n        )}\n        onClick={handleClick}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n      >\n        {/* Loading skeleton */}\n        <AnimatePresence>\n          {isImageLoading && !imageError && (\n            <motion.div\n              initial={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"absolute inset-0 z-20\"\n            >\n              <Skeleton className=\"w-full h-full\" />\n              <div className=\"absolute inset-0 flex items-center justify-center\">\n                <motion.div\n                  animate={{ rotate: 360 }}\n                  transition={{ duration: 2, repeat: Infinity, ease: \"linear\" }}\n                  className=\"w-8 h-8 border-2 border-primary border-t-transparent rounded-full\"\n                />\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Image or error state */}\n        {currentImageSrc && !imageError ? (\n          <Image\n            src={currentImageSrc}\n            alt={selectedChroma?.name ?? skin.name}\n            width={308}\n            height={560}\n            className={cn(\n              \"object-cover transition-all duration-300 group-hover:scale-105\",\n              imgLoaded ? \"opacity-100\" : \"opacity-0\"\n            )}\n            onLoad={handleImageLoad}\n            onError={handleImageError}\n            placeholder=\"blur\"\n            blurDataURL=\"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkrHB0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaH9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R7jHzsl1hpkzqCBww5Qgv8AqReaXLjv2H6H9bcfaSXWGaRmknyJckliyjqTzSlT54b6bk+h0R7jHzsl1hpkwqqv7BccgQX/ACWPvyV4Abl4x9lX9g+OQIHhwZXoXMUMhGhH0noBXH\"\n            priority={false}\n          />\n        ) : (\n          <div className={cn(\n            \"w-full h-full flex items-center justify-center\",\n            generatePlaceholder()\n          )}>\n            {imageError ? (\n              <div className=\"text-center text-white\">\n                <AlertCircle className=\"h-8 w-8 mx-auto mb-2 opacity-60\" />\n                <p className=\"text-xs opacity-80\">Image not available</p>\n              </div>\n            ) : (\n              <ImageIcon className=\"h-8 w-8 text-white/60\" />\n            )}\n          </div>\n        )}\n\n        {/* Selection overlay */}\n        <AnimatePresence>\n          {isSelected && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"absolute inset-0 flex items-center justify-center bg-black/40 z-30\"\n            >\n              <motion.div\n                initial={{ scale: 0 }}\n                animate={{ scale: 1 }}\n                exit={{ scale: 0 }}\n                className=\"bg-primary/90 p-3 rounded-full shadow-lg\"\n              >\n                <Check className=\"size-8 text-white\" />\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Hover overlay */}\n        <AnimatePresence>\n          {!isSelected && isHovering && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"absolute inset-0 flex items-center justify-center bg-black/30 z-30\"\n            >\n              <motion.div\n                initial={{ scale: 0 }}\n                animate={{ scale: 1 }}\n                exit={{ scale: 0 }}\n                className=\"bg-white/20 backdrop-blur-sm p-3 rounded-full\"\n              >\n                <Play className=\"size-8 text-white\" />\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Footer with name and chroma selector */}\n        <CardFooter className=\"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent p-4 flex flex-col justify-end z-20\">\n          <div className=\"w-full h-fit flex items-end justify-between gap-2\">\n            <motion.h3 \n              className=\"text-sm font-semibold text-white drop-shadow-md flex-1 truncate\"\n              initial={{ y: 10, opacity: 0 }}\n              animate={{ y: 0, opacity: 1 }}\n              transition={{ delay: 0.1 }}\n            >\n              {selectedChroma?.name ?? skin.name}\n            </motion.h3>\n\n            {/* Chroma Selector positioned in bottom right */}\n            {skin.chromas.length > 0 && (\n              <motion.div\n                initial={{ y: 10, opacity: 0 }}\n                animate={{ y: 0, opacity: 1 }}\n                transition={{ delay: 0.2 }}\n              >\n                <ChromaSelector\n                  chromas={skin.chromas}\n                  onSelect={handleChromaSelect}\n                  selectedChromaId={selectedChroma?.id}\n                />\n              </motion.div>\n            )}\n          </div>\n        </CardFooter>\n      </Card>\n    </motion.div>\n  );\n});\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2243, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/SkinGrid.tsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport { Champion } from \"@/lib/types\";\nimport { SkinCard } from \"./SkinCard\";\nimport { ScrollArea } from \"./ui/scroll-area\";\nimport { SkinLoading } from \"./EnhancedLoading\";\nimport { Skeleton } from \"./ui/skeleton\";\n\ninterface SkinGridProps {\n  champion: Champion | null;\n  isLoading?: boolean;\n}\n\n// Loading skeleton for skin grid\nfunction SkinGridSkeleton() {\n  return (\n    <div className=\"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5\">\n      {Array.from({ length: 8 }).map((_, i) => (\n        <div key={i} className=\"space-y-2\">\n          <Skeleton \n            className=\"aspect-[308/560] w-full rounded-lg\"\n            style={{ animationDelay: `${i * 100}ms` }}\n          />\n          <Skeleton className=\"h-4 w-3/4\" />\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// Empty state component\nfunction EmptyState() {\n  return (\n    <div className=\"flex items-center justify-center h-full min-h-[400px]\">\n      <div className=\"text-center space-y-4 max-w-md\">\n        <div className=\"w-20 h-20 rounded-2xl bg-gradient-to-br from-muted/50 to-muted/30 flex items-center justify-center mx-auto\">\n          <div className=\"w-8 h-8 rounded-lg bg-muted-foreground/20\" />\n        </div>\n        <h3 className=\"text-xl font-semibold text-foreground/80\">\n          Select a Champion\n        </h3>\n        <p className=\"text-muted-foreground leading-relaxed\">\n          Choose a champion from the sidebar to view and manage their skins\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport const SkinGrid = React.memo(function SkinGrid({\n  champion,\n  isLoading = false,\n}: SkinGridProps) {\n  // Memoize filtered skins for better performance\n  const availableSkins = useMemo(() => {\n    if (!champion) return [];\n    return champion.skins.filter((skin) => !skin.isBase);\n  }, [champion]);\n\n  if (isLoading) {\n    return (\n      <ScrollArea className=\"h-full w-full\">\n        <div className=\"p-6\">\n          <SkinGridSkeleton />\n        </div>\n      </ScrollArea>\n    );\n  }\n\n  if (!champion) {\n    return <EmptyState />;\n  }\n\n  if (availableSkins.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-full min-h-[400px]\">\n        <div className=\"text-center space-y-4 max-w-md\">\n          <div className=\"w-20 h-20 rounded-2xl bg-gradient-to-br from-muted/50 to-muted/30 flex items-center justify-center mx-auto\">\n            <div className=\"w-8 h-8 rounded-lg bg-muted-foreground/20\" />\n          </div>\n          <h3 className=\"text-xl font-semibold text-foreground/80\">\n            No Skins Available\n          </h3>\n          <p className=\"text-muted-foreground leading-relaxed\">\n            This champion doesn't have any additional skins available\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <ScrollArea className=\"h-full w-full\">\n      <div className=\"p-6\">\n        <div className=\"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5\">\n          {availableSkins.map((skin, index) => (\n            <div\n              key={skin.id}\n              className=\"animate-in fade-in-0 slide-in-from-bottom-4\"\n              style={{ animationDelay: `${index * 50}ms` }}\n            >\n              <SkinCard championId={champion.id} skin={skin} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </ScrollArea>\n  );\n});\n"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;AAEA;;;;;;AAOA,iCAAiC;AACjC,SAAS;IACP,qBACE,6VAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,6VAAC;gBAAY,WAAU;;kCACrB,6VAAC,oIAAA,CAAA,WAAQ;wBACP,WAAU;wBACV,OAAO;4BAAE,gBAAgB,GAAG,IAAI,IAAI,EAAE,CAAC;wBAAC;;;;;;kCAE1C,6VAAC,oIAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;;eALZ;;;;;;;;;;AAUlB;AAEA,wBAAwB;AACxB,SAAS;IACP,qBACE,6VAAC;QAAI,WAAU;kBACb,cAAA,6VAAC;YAAI,WAAU;;8BACb,6VAAC;oBAAI,WAAU;8BACb,cAAA,6VAAC;wBAAI,WAAU;;;;;;;;;;;8BAEjB,6VAAC;oBAAG,WAAU;8BAA2C;;;;;;8BAGzD,6VAAC;oBAAE,WAAU;8BAAwC;;;;;;;;;;;;;;;;;AAM7D;AAEO,MAAM,yBAAW,oTAAA,CAAA,UAAK,CAAC,IAAI,CAAC,SAAS,SAAS,EACnD,QAAQ,EACR,YAAY,KAAK,EACH;IACd,gDAAgD;IAChD,MAAM,iBAAiB,CAAA,GAAA,oTAAA,CAAA,UAAO,AAAD,EAAE;QAC7B,IAAI,CAAC,UAAU,OAAO,EAAE;QACxB,OAAO,SAAS,KAAK,CAAC,MAAM,CAAC,CAAC,OAAS,CAAC,KAAK,MAAM;IACrD,GAAG;QAAC;KAAS;IAEb,IAAI,WAAW;QACb,qBACE,6VAAC,0IAAA,CAAA,aAAU;YAAC,WAAU;sBACpB,cAAA,6VAAC;gBAAI,WAAU;0BACb,cAAA,6VAAC;;;;;;;;;;;;;;;IAIT;IAEA,IAAI,CAAC,UAAU;QACb,qBAAO,6VAAC;;;;;IACV;IAEA,IAAI,eAAe,MAAM,KAAK,GAAG;QAC/B,qBACE,6VAAC;YAAI,WAAU;sBACb,cAAA,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;wBAAI,WAAU;kCACb,cAAA,6VAAC;4BAAI,WAAU;;;;;;;;;;;kCAEjB,6VAAC;wBAAG,WAAU;kCAA2C;;;;;;kCAGzD,6VAAC;wBAAE,WAAU;kCAAwC;;;;;;;;;;;;;;;;;IAM7D;IAEA,qBACE,6VAAC,0IAAA,CAAA,aAAU;QAAC,WAAU;kBACpB,cAAA,6VAAC;YAAI,WAAU;sBACb,cAAA,6VAAC;gBAAI,WAAU;0BACZ,eAAe,GAAG,CAAC,CAAC,MAAM,sBACzB,6VAAC;wBAEC,WAAU;wBACV,OAAO;4BAAE,gBAAgB,GAAG,QAAQ,GAAG,EAAE,CAAC;wBAAC;kCAE3C,cAAA,6VAAC,8HAAA,CAAA,WAAQ;4BAAC,YAAY,SAAS,EAAE;4BAAE,MAAM;;;;;;uBAJpC,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;AAW1B","debugId":null}},
    {"offset": {"line": 2473, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/CustomSkinItem.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"./ui/button\";\nimport { CustomSkin } from \"@/lib/types\";\nimport { shallow } from \"zustand/shallow\";\n\nimport { Trash2, Play, Check } from \"lucide-react\";\nimport { useGameStore } from \"@/lib/store\";\nimport { toast } from \"sonner\";\n\ninterface CustomSkinCardProps {\n  skin: CustomSkin;\n  onDelete: (skinId: string) => Promise<boolean>;\n}\n\nexport function CustomSkinItem({ skin, onDelete }: CustomSkinCardProps) {\n  const [isHovering, setIsHovering] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  // Only subscribe to the specific state/actions needed\n  const selectedSkins = useGameStore((s) => s.selectedSkins);\n  const selectSkin = useGameStore((s) => s.selectSkin);\n  const clearSelection = useGameStore((s) => s.clearSelection);\n\n  // Check if this skin is selected\n  const isSelected =\n    selectedSkins.get(skin.champion_id)?.fantome === skin.file_path;\n\n  // Generate a fake skin ID for custom skins (used for selection tracking)\n  const fakeSkinId = parseInt(skin.id.replace(/\\D/g, \"\").slice(0, 8)) || 999999;\n\n  const handleMouseEnter = () => {\n    setIsHovering(true);\n  };\n\n  const handleMouseLeave = () => {\n    setIsHovering(false);\n  };\n\n  // Handle delete button click\n  const confirmDelete = () => {\n    toast.warning(`Delete \"${skin.name}\"?`, {\n      description: \"This action cannot be undone.\",\n      duration: 5000,\n      action: {\n        label: \"Delete\",\n        onClick: () => {\n          setIsDeleting(true);\n\n          toast.promise(\n            async () => {\n              const success = await onDelete(skin.id);\n              if (!success) {\n                throw new Error(\"Failed to delete skin\");\n              }\n              return success;\n            },\n            {\n              loading: \"Deleting skin...\",\n              success: `\"${skin.name}\" was deleted successfully`,\n              error: \"Failed to delete skin\",\n            }\n          );\n        },\n      },\n    });\n  };\n\n  // Select or deselect this skin\n  const handleClick = () => {\n    if (isSelected) {\n      clearSelection(skin.champion_id);\n    } else {\n      // For custom skins we use the file path directly\n      selectSkin(skin.champion_id, fakeSkinId, undefined, skin.file_path);\n    }\n  };\n\n  return (\n    <Button\n      className={cn(\n        \"w-full py-6 px-1 bg-primary dark:bg-primary/20 gap-0 rounded-lg overflow-hidden transition-all duration-300\",\n        isSelected ? \"ring-2 ring-primary\" : \"\"\n      )}\n      onClick={handleClick}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      <div className=\"p-2\">\n        {!isSelected && <Play className=\"size-8\" />}\n        {isSelected && <Check className=\"size-8 text-primary\" />}\n      </div>\n\n      <div className=\"flex justify-between gap-2 px-2 items-center w-full\">\n        <h3 className=\"text-lg font-semibold text-white drop-shadow-md\">\n          {skin.name}\n        </h3>\n        <div\n          role=\"button\"\n          tabIndex={0}\n          aria-label={`Delete ${skin.name}`}\n          className=\"h-8 w-8 rounded-full opacity-80 hover:opacity-100 flex items-center justify-center bg-destructive text-destructive-foreground cursor-pointer focus:outline-none focus:ring-2 focus:ring-destructive\"\n          onClick={(e) => {\n            e.stopPropagation();\n            confirmDelete();\n          }}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\" || e.key === \" \") {\n              e.preventDefault();\n              confirmDelete();\n            }\n          }}\n          style={{\n            pointerEvents: isDeleting ? \"none\" : undefined,\n            opacity: isDeleting ? 0.5 : undefined,\n          }}\n        >\n          <Trash2 className=\"h-4 w-4\" />\n        </div>\n      </div>\n    </Button>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AAVA;;;;;;;;AAiBO,SAAS,eAAe,EAAE,IAAI,EAAE,QAAQ,EAAuB;IACpE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,sDAAsD;IACtD,MAAM,gBAAgB,CAAA,GAAA,mHAAA,CAAA,eAAY,AAAD,EAAE,CAAC,IAAM,EAAE,aAAa;IACzD,MAAM,aAAa,CAAA,GAAA,mHAAA,CAAA,eAAY,AAAD,EAAE,CAAC,IAAM,EAAE,UAAU;IACnD,MAAM,iBAAiB,CAAA,GAAA,mHAAA,CAAA,eAAY,AAAD,EAAE,CAAC,IAAM,EAAE,cAAc;IAE3D,iCAAiC;IACjC,MAAM,aACJ,cAAc,GAAG,CAAC,KAAK,WAAW,GAAG,YAAY,KAAK,SAAS;IAEjE,yEAAyE;IACzE,MAAM,aAAa,SAAS,KAAK,EAAE,CAAC,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC,GAAG,OAAO;IAEvE,MAAM,mBAAmB;QACvB,cAAc;IAChB;IAEA,MAAM,mBAAmB;QACvB,cAAc;IAChB;IAEA,6BAA6B;IAC7B,MAAM,gBAAgB;QACpB,wQAAA,CAAA,QAAK,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC,EAAE,CAAC,EAAE;YACtC,aAAa;YACb,UAAU;YACV,QAAQ;gBACN,OAAO;gBACP,SAAS;oBACP,cAAc;oBAEd,wQAAA,CAAA,QAAK,CAAC,OAAO,CACX;wBACE,MAAM,UAAU,MAAM,SAAS,KAAK,EAAE;wBACtC,IAAI,CAAC,SAAS;4BACZ,MAAM,IAAI,MAAM;wBAClB;wBACA,OAAO;oBACT,GACA;wBACE,SAAS;wBACT,SAAS,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,0BAA0B,CAAC;wBAClD,OAAO;oBACT;gBAEJ;YACF;QACF;IACF;IAEA,+BAA+B;IAC/B,MAAM,cAAc;QAClB,IAAI,YAAY;YACd,eAAe,KAAK,WAAW;QACjC,OAAO;YACL,iDAAiD;YACjD,WAAW,KAAK,WAAW,EAAE,YAAY,WAAW,KAAK,SAAS;QACpE;IACF;IAEA,qBACE,6VAAC,kIAAA,CAAA,SAAM;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+GACA,aAAa,wBAAwB;QAEvC,SAAS;QACT,cAAc;QACd,cAAc;;0BAEd,6VAAC;gBAAI,WAAU;;oBACZ,CAAC,4BAAc,6VAAC,sRAAA,CAAA,OAAI;wBAAC,WAAU;;;;;;oBAC/B,4BAAc,6VAAC,wRAAA,CAAA,QAAK;wBAAC,WAAU;;;;;;;;;;;;0BAGlC,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;wBAAG,WAAU;kCACX,KAAK,IAAI;;;;;;kCAEZ,6VAAC;wBACC,MAAK;wBACL,UAAU;wBACV,cAAY,CAAC,OAAO,EAAE,KAAK,IAAI,EAAE;wBACjC,WAAU;wBACV,SAAS,CAAC;4BACR,EAAE,eAAe;4BACjB;wBACF;wBACA,WAAW,CAAC;4BACV,IAAI,EAAE,GAAG,KAAK,WAAW,EAAE,GAAG,KAAK,KAAK;gCACtC,EAAE,cAAc;gCAChB;4BACF;wBACF;wBACA,OAAO;4BACL,eAAe,aAAa,SAAS;4BACrC,SAAS,aAAa,MAAM;wBAC9B;kCAEA,cAAA,6VAAC,8RAAA,CAAA,SAAM;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAK5B","debugId":null}},
    {"offset": {"line": 2633, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { XIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {/* <DialogPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n          <XIcon />\n          <span className=\"sr-only\">Close</span>\n        </DialogPrimitive.Close> */}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  );\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;AAGA;AANA;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6VAAC,+QAAA,CAAA,OAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6VAAC,+QAAA,CAAA,UAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6VAAC,+QAAA,CAAA,SAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6VAAC,+QAAA,CAAA,QAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6VAAC,+QAAA,CAAA,UAAuB;QACtB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,GAAG,OACkD;IACrD,qBACE,6VAAC;QAAa,aAAU;;0BACtB,6VAAC;;;;;0BACD,6VAAC,+QAAA,CAAA,UAAuB;gBACtB,aAAU;gBACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+WACA;gBAED,GAAG,KAAK;0BAER;;;;;;;;;;;;AAQT;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6VAAC,+QAAA,CAAA,QAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6VAAC,+QAAA,CAAA,cAA2B;QAC1B,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 2780, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\ninterface InputProps extends React.ComponentProps<\"input\"> {\n  icon?: React.ReactNode;\n  iconPlacement?: \"left\" | \"right\";\n}\n\nfunction Input({\n  className,\n  type,\n  icon,\n  iconPlacement = \"left\",\n  style,\n  ...props\n}: InputProps) {\n  const inputElement = (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground bg-background flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        icon ? (iconPlacement === \"left\" ? \"pl-9\" : \"pr-9\") : \"\",\n        className\n      )}\n      style={style}\n      {...props}\n    />\n  );\n\n  if (!icon) return inputElement;\n\n  return (\n    <div className=\"relative flex items-center w-full\">\n      {iconPlacement === \"left\" && (\n        <span className=\"absolute left-2 flex items-center pointer-events-none text-muted-foreground\">\n          {icon}\n        </span>\n      )}\n      {inputElement}\n      {iconPlacement === \"right\" && (\n        <span className=\"absolute right-2 flex items-center pointer-events-none text-muted-foreground\">\n          {icon}\n        </span>\n      )}\n    </div>\n  );\n}\n\nexport { Input };\n"],"names":[],"mappings":";;;;AAEA;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,IAAI,EACJ,IAAI,EACJ,gBAAgB,MAAM,EACtB,KAAK,EACL,GAAG,OACQ;IACX,MAAM,6BACJ,6VAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,oaACA,iFACA,0GACA,OAAQ,kBAAkB,SAAS,SAAS,SAAU,IACtD;QAEF,OAAO;QACN,GAAG,KAAK;;;;;;IAIb,IAAI,CAAC,MAAM,OAAO;IAElB,qBACE,6VAAC;QAAI,WAAU;;YACZ,kBAAkB,wBACjB,6VAAC;gBAAK,WAAU;0BACb;;;;;;YAGJ;YACA,kBAAkB,yBACjB,6VAAC;gBAAK,WAAU;0BACb;;;;;;;;;;;;AAKX","debugId":null}},
    {"offset": {"line": 2834, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/lib/hooks/use-custom-skins.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { useGameStore } from \"../store\";\nimport { CustomSkin } from \"../types\";\n\nexport function useCustomSkins() {\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const { customSkins, setCustomSkins, addCustomSkin, removeCustomSkin } =\n    useGameStore();\n\n  // Load custom skins on initial mount\n  useEffect(() => {\n    const fetchCustomSkins = async () => {\n      setIsLoading(true);\n      setError(null);\n\n      try {\n        const skins = await invoke<CustomSkin[]>(\"get_custom_skins\");\n        setCustomSkins(skins);\n      } catch (err) {\n        console.error(\"Failed to load custom skins:\", err);\n        setError(String(err));\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    void fetchCustomSkins();\n  }, [setCustomSkins]);\n\n  // Function to upload a new custom skin\n  const uploadCustomSkin = async (championId: number, skinName: string) => {\n    try {\n      // Use the invoke function to call a new command that will handle file selection on the backend\n      const newSkin = await invoke<CustomSkin>(\"upload_custom_skin\", {\n        championId,\n        skinName,\n      });\n\n      // Add to local state\n      addCustomSkin(newSkin);\n\n      return newSkin;\n    } catch (err) {\n      console.error(\"Failed to upload custom skin:\", err);\n      setError(String(err));\n      return null;\n    }\n  };\n\n  // Function to delete a custom skin\n  const deleteCustomSkin = async (skinId: string) => {\n    try {\n      await invoke(\"delete_custom_skin\", { skinId });\n      removeCustomSkin(skinId);\n      return true;\n    } catch (err) {\n      console.error(\"Failed to delete custom skin:\", err);\n      setError(String(err));\n      return false;\n    }\n  };\n\n  return {\n    customSkins,\n    isLoading,\n    error,\n    uploadCustomSkin,\n    deleteCustomSkin,\n  };\n}\n"],"names":[],"mappings":";;;AAEA;AACA;AACA;AAJA;;;;AAOO,SAAS;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,aAAa,EAAE,gBAAgB,EAAE,GACpE,CAAA,GAAA,mHAAA,CAAA,eAAY,AAAD;IAEb,qCAAqC;IACrC,CAAA,GAAA,oTAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,mBAAmB;YACvB,aAAa;YACb,SAAS;YAET,IAAI;gBACF,MAAM,QAAQ,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAgB;gBACzC,eAAe;YACjB,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,gCAAgC;gBAC9C,SAAS,OAAO;YAClB,SAAU;gBACR,aAAa;YACf;QACF;QAEA,KAAK;IACP,GAAG;QAAC;KAAe;IAEnB,uCAAuC;IACvC,MAAM,mBAAmB,OAAO,YAAoB;QAClD,IAAI;YACF,+FAA+F;YAC/F,MAAM,UAAU,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAc,sBAAsB;gBAC7D;gBACA;YACF;YAEA,qBAAqB;YACrB,cAAc;YAEd,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,SAAS,OAAO;YAChB,OAAO;QACT;IACF;IAEA,mCAAmC;IACnC,MAAM,mBAAmB,OAAO;QAC9B,IAAI;YACF,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAE,sBAAsB;gBAAE;YAAO;YAC5C,iBAAiB;YACjB,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,SAAS,OAAO;YAChB,OAAO;QACT;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 2912, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/CustomSkinList.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, Suspense } from \"react\";\nimport { useChampions } from \"@/lib/hooks/use-champions\";\nimport { CustomSkinItem } from \"./CustomSkinItem\";\nimport { Button } from \"./ui/button\";\nimport { Plus } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"./ui/dialog\";\nimport { Label } from \"./ui/label\";\nimport { Input } from \"./ui/input\";\nimport { Skeleton } from \"./ui/skeleton\";\nimport { useCustomSkins } from \"@/lib/hooks/use-custom-skins\";\n\ninterface CustomSkinListProps {\n  championId: number | null;\n}\n\nfunction CustomSkinLoading() {\n  return (\n    <div className=\"size-full space-y-3 px-20 py-10\">\n      {Array.from({ length: 3 }).map((_, i) => (\n        <div\n          key={i}\n          className=\"w-full py-6 px-1 bg-primary/20 gap-0 rounded-lg overflow-hidden animate-pulse\"\n        >\n          <div className=\"p-2\">\n            <Skeleton className=\"size-8\" />\n          </div>\n          <div className=\"flex justify-between gap-2 px-2 items-center w-full\">\n            <Skeleton className=\"h-6 w-32\" />\n            <Skeleton className=\"size-8 rounded-full\" />\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport function CustomSkinList({ championId }: CustomSkinListProps) {\n  const { champions } = useChampions();\n  const { customSkins, uploadCustomSkin, deleteCustomSkin } = useCustomSkins();\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [skinName, setSkinName] = useState(\"\");\n  const [isUploading, setIsUploading] = useState(false);\n\n  const champion = championId\n    ? champions.find((c) => c.id === championId)\n    : null;\n  const championCustomSkins =\n    championId !== null ? customSkins.get(championId) ?? [] : [];\n\n  const handleAddNewSkin = () => {\n    if (!championId) {\n      toast.error(\"Please select a champion first\");\n      return;\n    }\n    setIsDialogOpen(true);\n  };\n\n  const handleUploadSkin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!championId) return;\n\n    setIsUploading(true);\n    try {\n      const newSkin = await uploadCustomSkin(championId, skinName);\n      if (newSkin) {\n        setIsDialogOpen(false);\n        setSkinName(\"\");\n        toast.success(\"Custom skin uploaded successfully\");\n      }\n    } catch (error) {\n      toast.error(\"Failed to upload custom skin\");\n      console.error(error);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const handleDeleteSkin = async (skinId: string): Promise<boolean> => {\n    try {\n      const success = await deleteCustomSkin(skinId);\n      if (success) {\n        toast.success(\"Skin deleted successfully\");\n        return true;\n      } else {\n        toast.error(\"Failed to delete skin\");\n        return false;\n      }\n    } catch (error) {\n      toast.error(\"An error occurred while deleting the skin\");\n      return false;\n    }\n  };\n\n  if (!championId) {\n    return (\n      <div className=\"flex flex-col items-center justify-center h-full w-full p-4\">\n        <p className=\"text-muted-foreground\">\n          Please select a champion to view their custom skins.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <Suspense fallback={<CustomSkinLoading />}>\n      <div className=\"size-full space-y-3 px-20 py-10\">\n        {championCustomSkins.map((skin) => (\n          <CustomSkinItem\n            key={skin.id}\n            skin={skin}\n            onDelete={handleDeleteSkin}\n          />\n        ))}\n\n        {championCustomSkins.length === 0 && (\n          <div className=\"flex flex-col items-center mt-8\">\n            <p className=\"text-muted-foreground mb-4\">\n              No custom skins found for {champion?.name ?? \"this champion\"}.\n            </p>\n          </div>\n        )}\n\n        <Button\n          size={\"lg\"}\n          variant=\"outline\"\n          className=\"w-full border-dashed py-6 mt-1 justify-start\"\n          onClick={handleAddNewSkin}\n        >\n          <Plus className=\"size-8 opacity-50\" />\n          <span className=\"text-lg font-medium\">Add Custom Skin</span>\n        </Button>\n\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogContent className=\"sm:max-w-md\">\n            <DialogHeader>\n              <DialogTitle>Add Custom Skin</DialogTitle>\n              <DialogDescription>\n                Upload a custom skin file (.fantome) for{\" \"}\n                {champion?.name ?? \"your champion\"}\n              </DialogDescription>\n            </DialogHeader>\n\n            <form onSubmit={handleUploadSkin}>\n              <div className=\"grid gap-4 py-4\">\n                <div className=\"flex flex-col gap-2\">\n                  <Label htmlFor=\"skinName\">Skin Name</Label>\n                  <Input\n                    id=\"skinName\"\n                    name=\"skinName\"\n                    value={skinName}\n                    onChange={(e) => {\n                      setSkinName(e.target.value);\n                    }}\n                    placeholder=\"Enter a name for this skin\"\n                  />\n                </div>\n              </div>\n\n              <DialogFooter>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setIsDialogOpen(false);\n                    setSkinName(\"\");\n                  }}\n                  disabled={isUploading}\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  disabled={isUploading || !skinName.trim()}\n                >\n                  {isUploading ? \"Uploading...\" : \"Upload Skin\"}\n                </Button>\n              </DialogFooter>\n            </form>\n          </DialogContent>\n        </Dialog>\n      </div>\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3263, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  )\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  )\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  )\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD;IACvD,qBACE,6VAAC,6QAAA,CAAA,WAAyB;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBACE,6VAAC;kBACC,cAAA,6VAAC,6QAAA,CAAA,OAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;AAEA,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,6VAAC,6QAAA,CAAA,UAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6VAAC,6QAAA,CAAA,SAAuB;kBACtB,cAAA,6VAAC,6QAAA,CAAA,UAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0aACA;YAED,GAAG,KAAK;;gBAER;8BACD,6VAAC,6QAAA,CAAA,QAAsB;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C","debugId":null}},
    {"offset": {"line": 3348, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/InjectionStatusDot.tsx"],"sourcesContent":["import {\n  Tooltip,\n  TooltipTrigger,\n  TooltipContent,\n} from \"@/components/ui/tooltip\";\nimport { useEffect, useState, useRef } from \"react\";\nimport { listen } from \"@tauri-apps/api/event\";\nimport { toast } from \"sonner\";\nimport { useGameStore } from \"@/lib/store\";\n\ntype Status = \"idle\" | \"injecting\" | \"success\" | \"error\";\n\nexport function InjectionStatusDot() {\n  const injectionStatus = useGameStore((s) => s.injectionStatus);\n  const setInjectionStatus = useGameStore((s) => s.setInjectionStatus);\n  const toastShownRef = useRef<Record<string, boolean>>({});\n  const currentInjectionRef = useRef<string | null>(null);\n\n  // Listen for injection start/stop and error events\n  useEffect(() => {\n    // Setup listeners and store unlisten functions\n    let unlistenStatus: () => void = () => {};\n    let unlistenError: () => void = () => {};\n    let unlistenTerminalLog: () => void = () => {};\n\n    void (async () => {\n      // Track terminal logs for warnings during overlay creation\n      unlistenTerminalLog = await listen<string>(\"terminal-log\", (e) => {\n        const logMsg = e.payload;\n\n        // If we see a log that indicates we're retrying, mark this as a retry situation\n        if (\n          logMsg.includes(\"Retrying overlay creation\") ||\n          logMsg.includes(\"Access violation error\")\n        ) {\n          currentInjectionRef.current = \"retrying\";\n        }\n\n        // Clear any existing error toasts when we see a success message\n        if (\n          logMsg.includes(\"Overlay creation succeeded\") ||\n          logMsg.includes(\"Overlay process started successfully\") ||\n          logMsg.includes(\"Skin injection completed successfully\")\n        ) {\n          // Clear any error toasts since we recovered\n          if (currentInjectionRef.current === \"retrying\") {\n            // We've recovered from a retry, waiting for final success\n            currentInjectionRef.current = \"recovered\";\n          }\n        }\n      });\n\n      unlistenStatus = await listen(\"injection-status\", (e) => {\n        const status = e.payload;\n\n        if (status === \"injecting\") {\n          setInjectionStatus(\"injecting\");\n          // Reset toast tracking when starting new injection\n          toastShownRef.current = {};\n          currentInjectionRef.current = \"injecting\";\n        } else if (status === \"completed\" || status === \"success\") {\n          setInjectionStatus(\"success\");\n          // Hide any pending error toasts\n          toast.dismiss();\n\n          // Show success toast\n          toast.success(\"Skin injection completed successfully\");\n          toastShownRef.current.success = true;\n          currentInjectionRef.current = null;\n        } else if (status === \"error\") {\n          // Only show error toast if we're not in a retry situation or if injection has actually failed\n          if (\n            currentInjectionRef.current !== \"retrying\" &&\n            currentInjectionRef.current !== \"recovered\"\n          ) {\n            setInjectionStatus(\"error\");\n            // Error message handled by separate event\n          }\n        } else {\n          // Default to idle for any other status\n          setInjectionStatus(\"idle\");\n          currentInjectionRef.current = null;\n        }\n      });\n\n      unlistenError = await listen<string>(\"skin-injection-error\", (e) => {\n        // Only show actual errors, not temporary failures during retries\n        if (\n          currentInjectionRef.current !== \"retrying\" &&\n          currentInjectionRef.current !== \"recovered\"\n        ) {\n          setInjectionStatus(\"error\");\n          // Only show error toast if we haven't shown one for this error\n          if (!toastShownRef.current.error) {\n            toast.error(`Skin injection failed: ${e.payload}`);\n            toastShownRef.current.error = true;\n          }\n        }\n      });\n    })();\n\n    return () => {\n      unlistenStatus();\n      unlistenError();\n      unlistenTerminalLog();\n    };\n  }, [setInjectionStatus]);\n\n  // Auto-reset back to idle after showing success/error\n  useEffect(() => {\n    if (injectionStatus === \"success\" || injectionStatus === \"error\") {\n      const t = setTimeout(() => {\n        setInjectionStatus(\"idle\");\n        // Clear toast tracking when returning to idle\n        toastShownRef.current = {};\n        currentInjectionRef.current = null;\n      }, 5000); // Extended time to 5 seconds to make status more visible\n\n      return () => {\n        clearTimeout(t);\n      };\n    }\n  }, [injectionStatus, setInjectionStatus]);\n\n  // Map status to color, label, animation\n  let color = \"\";\n  let animate = \"\";\n  let label = \"\";\n\n  switch (injectionStatus) {\n    case \"injecting\":\n      color = \"bg-yellow-400\";\n      animate = \"animate-pulse\";\n      label = \"Injecting skins...\";\n      break;\n    case \"success\":\n      color = \"bg-green-500\";\n      label = \"Injection successful\";\n      break;\n    case \"error\":\n      color = \"bg-red-500\";\n      label = \"Injection failed\";\n      break;\n    default:\n      color = \"bg-gray-500\";\n      label = \"Ready\";\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>\n        <div\n          className={`size-3 aspect-square shrink-0 rounded-full border border-border ${color} ${animate}`}\n          aria-label={label}\n        />\n      </TooltipTrigger>\n      <TooltipContent>{label}</TooltipContent>\n    </Tooltip>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3514, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/titlebar/TitleBar.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport {\n  WebviewWindow,\n  getCurrentWebviewWindow,\n} from \"@tauri-apps/api/webviewWindow\";\nimport { Button } from \"@/components/ui/button\";\nimport { Minus, Square, X, Copy, Gamepad2 } from \"lucide-react\";\n\ninterface TitleBarProps {\n  title?: string;\n  showIcon?: boolean;\n  className?: string;\n}\n\nexport function TitleBar({ \n  title = \"Hindi Hwak\", \n  showIcon = true,\n  className = \"\" \n}: TitleBarProps) {\n  const [isMaximized, setIsMaximized] = useState(false);\n  const [appWindow, setAppWindow] = useState<WebviewWindow | null>(null);\n  const [isHovered, setIsHovered] = useState<string | null>(null);\n\n  useEffect(() => {\n    // Get the current webview window\n    const initWindow = async () => {\n      try {\n        const currentWindow = getCurrentWebviewWindow();\n        setAppWindow(currentWindow);\n\n        // Check if the window is maximized initially\n        try {\n          const maximized = await currentWindow.isMaximized();\n          setIsMaximized(maximized);\n        } catch (error) {\n          console.error(\"Failed to check if window is maximized:\", error);\n        }\n\n        // Listen for window resize events\n        const unlistenResize = await currentWindow.listen(\n          \"tauri://resize\",\n          () => {\n            currentWindow\n              .isMaximized()\n              .then((maximized) => {\n                setIsMaximized(maximized);\n              })\n              .catch((error: unknown) => {\n                console.error(\n                  \"Failed to check if window is maximized on resize:\",\n                  error\n                );\n              });\n          }\n        );\n\n        return unlistenResize;\n      } catch (error) {\n        console.error(\"Failed to initialize window:\", error);\n        return null;\n      }\n    };\n\n    let unlisten: (() => void) | null = null;\n    initWindow()\n      .then((unlistenFn) => {\n        unlisten = unlistenFn;\n      })\n      .catch((error: unknown) => {\n        console.error(\"Failed to initialize window listeners:\", error);\n      });\n\n    return () => {\n      // Cleanup event listeners\n      if (unlisten) unlisten();\n    };\n  }, []);\n\n  const minimize = async () => {\n    try {\n      if (appWindow) {\n        await appWindow.minimize();\n      }\n    } catch (error) {\n      console.error(\"Failed to minimize window:\", error);\n    }\n  };\n\n  const toggleMaximize = async () => {\n    try {\n      if (appWindow) {\n        if (isMaximized) {\n          await appWindow.unmaximize();\n        } else {\n          await appWindow.maximize();\n        }\n      }\n    } catch (error) {\n      console.error(\"Failed to toggle maximize:\", error);\n    }\n  };\n\n  const close = async () => {\n    try {\n      if (appWindow) {\n        await appWindow.close();\n      }\n    } catch (error) {\n      console.error(\"Failed to close window:\", error);\n    }\n  };\n\n  return (\n    <div \n      className={`\n        flex items-center justify-between h-12 px-4 \n        bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900\n        border-b border-slate-700/50 backdrop-blur-sm\n        ${className}\n      `}\n      data-tauri-drag-region\n    >\n      {/* Left side - App icon and title */}\n      <div className=\"flex items-center space-x-3 flex-1\">\n        {showIcon && (\n          <div className=\"flex items-center justify-center w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 shadow-lg\">\n            <Gamepad2 className=\"h-5 w-5 text-white\" />\n          </div>\n        )}\n        <div className=\"flex flex-col\">\n          <h1 className=\"text-sm font-semibold text-white tracking-wide\">\n            {title}\n          </h1>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"></div>\n            <span className=\"text-xs text-slate-400\">Ready</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Right side - Window controls */}\n      <div className=\"flex items-center space-x-1\">\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"\n            h-8 w-8 rounded-md\n            text-slate-300 hover:text-white\n            hover:bg-slate-700/50 \n            transition-all duration-200 ease-in-out\n            focus:ring-2 focus:ring-blue-500/50\n            active:scale-95\n          \"\n          onClick={() => void minimize()}\n          onMouseEnter={() => setIsHovered('minimize')}\n          onMouseLeave={() => setIsHovered(null)}\n          aria-label=\"Minimize window\"\n        >\n          <Minus className=\"h-4 w-4\" />\n        </Button>\n        \n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"\n            h-8 w-8 rounded-md\n            text-slate-300 hover:text-white\n            hover:bg-slate-700/50 \n            transition-all duration-200 ease-in-out\n            focus:ring-2 focus:ring-blue-500/50\n            active:scale-95\n          \"\n          onClick={() => void toggleMaximize()}\n          onMouseEnter={() => setIsHovered('maximize')}\n          onMouseLeave={() => setIsHovered(null)}\n          aria-label={isMaximized ? \"Restore window\" : \"Maximize window\"}\n        >\n          {isMaximized ? (\n            <Copy className=\"h-3.5 w-3.5\" />\n          ) : (\n            <Square className=\"h-3.5 w-3.5\" />\n          )}\n        </Button>\n        \n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"\n            h-8 w-8 rounded-md\n            text-slate-300 hover:text-white\n            hover:bg-red-500/80 hover:text-white\n            transition-all duration-200 ease-in-out\n            focus:ring-2 focus:ring-red-500/50\n            active:scale-95\n          \"\n          onClick={() => void close()}\n          onMouseEnter={() => setIsHovered('close')}\n          onMouseLeave={() => setIsHovered(null)}\n          aria-label=\"Close window\"\n        >\n          <X className=\"h-4 w-4\" />\n        </Button>\n      </div>\n\n      {/* Tooltip */}\n      {isHovered && (\n        <div className=\"\n          absolute top-14 right-4 \n          px-2 py-1 text-xs \n          bg-slate-800 text-white \n          rounded-md shadow-lg\n          border border-slate-600\n          animate-in fade-in-0 zoom-in-95\n          duration-150\n        \">\n          {isHovered === 'minimize' && 'Minimize'}\n          {isHovered === 'maximize' && (isMaximized ? 'Restore' : 'Maximize')}\n          {isHovered === 'close' && 'Close'}\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3778, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ChampionSearch.tsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport { Search } from \"lucide-react\";\nimport { Input } from \"./ui/input\";\nimport { Champion } from \"@/lib/types\";\n\ninterface ChampionSearchProps {\n  champions: Champion[];\n  onSelect: (championId: number) => void;\n  selectedChampionId: number | null;\n  searchQuery: string;\n  onSearchChange: (query: string) => void;\n}\n\nfunction getMatchScore(championName: string, query: string): number {\n  const normalizedName = championName.toLowerCase();\n  const normalizedQuery = query.toLowerCase();\n\n  // Exact match gets highest score\n  if (normalizedName === normalizedQuery) return 100;\n\n  // Starts with query gets high score\n  if (normalizedName.startsWith(normalizedQuery)) return 80;\n\n  // Contains query as a word gets medium score\n  if (normalizedName.includes(` ${normalizedQuery}`)) return 60;\n\n  // Contains query gets low score\n  if (normalizedName.includes(normalizedQuery)) return 40;\n\n  // No match\n  return 0;\n}\n\nexport function ChampionSearch({\n  champions,\n  onSelect,\n  selectedChampionId,\n  searchQuery,\n  onSearchChange,\n}: ChampionSearchProps) {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [hasFocus, setHasFocus] = useState(false);\n\n  // Handle keyboard input when not focused on input\n  useEffect(() => {\n    const down = (e: KeyboardEvent) => {\n      // Skip if input or any other text input has focus\n      if (\n        hasFocus ||\n        e.target instanceof HTMLInputElement ||\n        e.target instanceof HTMLTextAreaElement\n      ) {\n        return;\n      }\n\n      // Handle direct text input when not focused on input elements\n      if (e.key.length === 1 && !e.metaKey && !e.ctrlKey && !e.altKey) {\n        e.preventDefault(); // Prevent default to avoid double input\n        onSearchChange(e.key);\n        inputRef.current?.focus();\n      }\n\n      // Handle backspace\n      if (e.key === \"Backspace\") {\n        e.preventDefault();\n        onSearchChange(searchQuery.slice(0, -1));\n        inputRef.current?.focus();\n      }\n\n      // Handle escape to clear search\n      if (e.key === \"Escape\") {\n        e.preventDefault();\n        onSearchChange(\"\");\n        inputRef.current?.blur();\n      }\n    };\n\n    document.addEventListener(\"keydown\", down);\n    return () => {\n      document.removeEventListener(\"keydown\", down);\n    };\n  }, [searchQuery, onSearchChange, hasFocus]);\n\n  return (\n    <Input\n      ref={inputRef}\n      type=\"search\"\n      icon={<Search size={16} />}\n      placeholder=\"Search champions...\"\n      value={searchQuery}\n      onFocus={() => {\n        setHasFocus(true);\n      }}\n      onBlur={() => {\n        setHasFocus(false);\n      }}\n      onChange={(e) => {\n        onSearchChange(e.target.value);\n      }}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;AAWA,SAAS,cAAc,YAAoB,EAAE,KAAa;IACxD,MAAM,iBAAiB,aAAa,WAAW;IAC/C,MAAM,kBAAkB,MAAM,WAAW;IAEzC,iCAAiC;IACjC,IAAI,mBAAmB,iBAAiB,OAAO;IAE/C,oCAAoC;IACpC,IAAI,eAAe,UAAU,CAAC,kBAAkB,OAAO;IAEvD,6CAA6C;IAC7C,IAAI,eAAe,QAAQ,CAAC,CAAC,CAAC,EAAE,iBAAiB,GAAG,OAAO;IAE3D,gCAAgC;IAChC,IAAI,eAAe,QAAQ,CAAC,kBAAkB,OAAO;IAErD,WAAW;IACX,OAAO;AACT;AAEO,SAAS,eAAe,EAC7B,SAAS,EACT,QAAQ,EACR,kBAAkB,EAClB,WAAW,EACX,cAAc,EACM;IACpB,MAAM,WAAW,CAAA,GAAA,oTAAA,CAAA,SAAM,AAAD,EAAoB;IAC1C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,kDAAkD;IAClD,CAAA,GAAA,oTAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,OAAO,CAAC;YACZ,kDAAkD;YAClD,IACE,YACA,EAAE,MAAM,YAAY,oBACpB,EAAE,MAAM,YAAY,qBACpB;gBACA;YACF;YAEA,8DAA8D;YAC9D,IAAI,EAAE,GAAG,CAAC,MAAM,KAAK,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC,EAAE,OAAO,IAAI,CAAC,EAAE,MAAM,EAAE;gBAC/D,EAAE,cAAc,IAAI,wCAAwC;gBAC5D,eAAe,EAAE,GAAG;gBACpB,SAAS,OAAO,EAAE;YACpB;YAEA,mBAAmB;YACnB,IAAI,EAAE,GAAG,KAAK,aAAa;gBACzB,EAAE,cAAc;gBAChB,eAAe,YAAY,KAAK,CAAC,GAAG,CAAC;gBACrC,SAAS,OAAO,EAAE;YACpB;YAEA,gCAAgC;YAChC,IAAI,EAAE,GAAG,KAAK,UAAU;gBACtB,EAAE,cAAc;gBAChB,eAAe;gBACf,SAAS,OAAO,EAAE;YACpB;QACF;QAEA,SAAS,gBAAgB,CAAC,WAAW;QACrC,OAAO;YACL,SAAS,mBAAmB,CAAC,WAAW;QAC1C;IACF,GAAG;QAAC;QAAa;QAAgB;KAAS;IAE1C,qBACE,6VAAC,iIAAA,CAAA,QAAK;QACJ,KAAK;QACL,MAAK;QACL,oBAAM,6VAAC,0RAAA,CAAA,SAAM;YAAC,MAAM;;;;;;QACpB,aAAY;QACZ,OAAO;QACP,SAAS;YACP,YAAY;QACd;QACA,QAAQ;YACN,YAAY;QACd;QACA,UAAU,CAAC;YACT,eAAe,EAAE,MAAM,CAAC,KAAK;QAC/B;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 3874, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />;\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-background text-background-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  );\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4136, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/TerminalLogsDialog.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport {\n  Terminal,\n  Trash2,\n  X,\n  Copy,\n  ArrowDownToLine,\n  Filter,\n} from \"lucide-react\";\nimport {\n  DropdownMenuItem,\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuCheckboxItem,\n} from \"@/components/ui/dropdown-menu\";\nimport { toast } from \"sonner\";\nimport clsx from \"clsx\";\nimport { useTerminalLogStore, TerminalLog } from \"@/lib/store\";\nimport { Switch } from \"./ui/switch\";\n\n// Log type options for filtering\nconst LOG_TYPE_LABELS: Record<string, string> = {\n  all: \"All\",\n  \"lcu-watcher\": \"LCU Watcher\",\n  injection: \"Injection\",\n  error: \"Error\",\n  debug: \"Debug\",\n};\nconst ALL_LOG_TYPES = Object.keys(LOG_TYPE_LABELS).filter((k) => k !== \"all\");\n\nexport function TerminalLogsDialog() {\n  const logs = useTerminalLogStore((s) => s.logs);\n  const clearLogs = useTerminalLogStore((s) => s.clearLogs);\n  const [filter, setFilter] = useState<string[]>(ALL_LOG_TYPES);\n  const [autoScroll, setAutoScroll] = useState(true);\n  const [isAtBottom, setIsAtBottom] = useState(true);\n  const scrollAreaRef = useRef<HTMLDivElement | null>(null);\n  const bottomRef = useRef<HTMLDivElement | null>(null);\n\n  // Remove the duplicate event listener - we now use the global TerminalLogListener\n\n  // Scroll to bottom only if following\n  useEffect(() => {\n    if (autoScroll && isAtBottom) {\n      bottomRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [logs, autoScroll, isAtBottom]);\n\n  // Detect if user is at bottom\n  const handleScroll = useCallback(() => {\n    const el = scrollAreaRef.current;\n    if (!el) return;\n    const atBottom = el.scrollHeight - el.scrollTop - el.clientHeight < 20;\n    setIsAtBottom(atBottom);\n  }, []);\n\n  const copyLogs = async () => {\n    try {\n      await navigator.clipboard.writeText(\n        logs\n          .filter((log) => filter.length === 0 || filter.includes(log.log_type))\n          .map((log) => `[${log.log_type}] ${log.message}`)\n          .join(\"\\n\")\n      );\n      toast.success(\"Logs copied to clipboard\");\n    } catch {\n      toast.error(\"Failed to copy logs\");\n    }\n  };\n\n  const scrollToBottom = () => {\n    bottomRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    setAutoScroll(true);\n    setIsAtBottom(true);\n  };\n\n  // Multi-select filter logic\n  const toggleFilter = (type: string) => {\n    setFilter((prev) =>\n      prev.includes(type) ? prev.filter((t) => t !== type) : [...prev, type]\n    );\n  };\n\n  const filteredLogs = logs.filter(\n    (log) => filter.length === 0 || filter.includes(log.log_type)\n  );\n\n  return (\n    <Dialog modal>\n      <DialogTrigger asChild>\n        <DropdownMenuItem\n          onSelect={(e) => {\n            e.preventDefault();\n          }}\n        >\n          <Terminal className=\"h-4 w-4\" />\n          Terminal Logs\n        </DropdownMenuItem>\n      </DialogTrigger>\n      <DialogContent className=\"sm:max-w-5xl overflow-y-auto\">\n        <DialogHeader className=\"flex flex-row items-center justify-between\">\n          <DialogTitle>Terminal Logs</DialogTitle>\n          <div className=\"flex flex-row items-center gap-2\">\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <Button variant=\"outline\" size=\"icon\" title=\"Filter logs\">\n                  <Filter className=\"h-4 w-4\" />\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\">\n                {Object.entries(LOG_TYPE_LABELS)\n                  .filter(([key]) => key !== \"all\")\n                  .map(([key, label]) => (\n                    <DropdownMenuCheckboxItem\n                      key={key}\n                      checked={filter.includes(key)}\n                      onCheckedChange={() => toggleFilter(key)}\n                    >\n                      {label}\n                    </DropdownMenuCheckboxItem>\n                  ))}\n              </DropdownMenuContent>\n            </DropdownMenu>\n            <Button\n              title=\"Copy\"\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={() => {\n                void copyLogs();\n              }}\n              disabled={filteredLogs.length === 0}\n            >\n              <Copy className=\"h-4 w-4\" />\n            </Button>\n            <Button\n              title=\"Clear\"\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={clearLogs}\n            >\n              <Trash2 className=\"h-4 w-4\" />\n            </Button>\n            <DialogClose title=\"Close\" asChild>\n              <Button variant=\"outline\" size=\"icon\">\n                <X className=\"h-4 w-4\" />\n              </Button>\n            </DialogClose>\n          </div>\n        </DialogHeader>\n        <ScrollArea\n          className=\"size-full relative h-[500px] max-w-[950px] rounded-md border p-4 font-mono text-sm select-text\"\n          ref={scrollAreaRef}\n          onScroll={handleScroll}\n        >\n          {filteredLogs.map((log, index) => (\n            <div key={index} className=\"whitespace-pre-wrap\">\n              <span className=\"text-xs font-bold mr-2\">[{log.log_type}]</span>\n              {log.message}\n            </div>\n          ))}\n          <div ref={bottomRef} />\n        </ScrollArea>\n        {!isAtBottom && autoScroll && (\n          <Button\n            onClick={scrollToBottom}\n            variant=\"secondary\"\n            size=\"icon\"\n            className={clsx(\n              \"absolute right-4 bottom-6 z-10 shadow-lg animate-in fade-in\",\n              \"bg-background/80 backdrop-blur\"\n            )}\n            title=\"Scroll to bottom\"\n          >\n            <ArrowDownToLine className=\"h-5 w-5\" />\n          </Button>\n        )}\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-xs\">Auto Scroll</span>\n          <Switch\n            checked={autoScroll}\n            onCheckedChange={setAutoScroll}\n            aria-label=\"Auto Scroll\"\n          />\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4493, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator-root\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Separator };\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,6VAAC,4QAAA,CAAA,OAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kKACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 4523, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/lib/hooks/use-league-directory.ts"],"sourcesContent":["import { useState, useCallback } from \"react\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { toast } from \"sonner\";\n\nexport function useLeagueDirectory(setLeaguePath: (path: string) => void) {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSelectDirectory = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      const path = await invoke<string>(\"select_league_directory\");\n      if (path) {\n        setLeaguePath(path);\n        toast.success(\"League of Legends directory updated successfully\");\n      }\n    } catch (err) {\n      console.error(\"Failed to select League directory:\", err);\n      toast.error(\"Failed to select directory\");\n    } finally {\n      setIsLoading(false);\n    }\n  }, [setLeaguePath]);\n\n  const handleAutoDetect = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      const path = await invoke<string>(\"auto_detect_league\");\n      if (path) {\n        setLeaguePath(path);\n        toast.success(\"League of Legends installation found\");\n      }\n    } catch (err) {\n      console.error(\"Failed to detect League directory:\", err);\n      toast.error(\n        \"Could not find League of Legends installation automatically\"\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  }, [setLeaguePath]);\n\n  return { isLoading, handleSelectDirectory, handleAutoDetect };\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEO,SAAS,mBAAmB,aAAqC;IACtE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,wBAAwB,CAAA,GAAA,oTAAA,CAAA,cAAW,AAAD,EAAE;QACxC,IAAI;YACF,aAAa;YACb,MAAM,OAAO,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAU;YAClC,IAAI,MAAM;gBACR,cAAc;gBACd,wQAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YAChB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,sCAAsC;YACpD,wQAAA,CAAA,QAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,aAAa;QACf;IACF,GAAG;QAAC;KAAc;IAElB,MAAM,mBAAmB,CAAA,GAAA,oTAAA,CAAA,cAAW,AAAD,EAAE;QACnC,IAAI;YACF,aAAa;YACb,MAAM,OAAO,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAU;YAClC,IAAI,MAAM;gBACR,cAAc;gBACd,wQAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YAChB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,sCAAsC;YACpD,wQAAA,CAAA,QAAK,CAAC,KAAK,CACT;QAEJ,SAAU;YACR,aAAa;QACf;IACF,GAAG;QAAC;KAAc;IAElB,OAAO;QAAE;QAAW;QAAuB;IAAiB;AAC9D","debugId":null}},
    {"offset": {"line": 4580, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/SettingsDialog.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogTrigger,\n  DialogFooter,\n  DialogClose,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { useGameStore } from \"@/lib/store\";\nimport { toast } from \"sonner\";\nimport { \n  Settings, \n  RefreshCw, \n  FolderOpen, \n  Search, \n  Palette, \n  Database,\n  HardDrive,\n  Heart,\n  ExternalLink,\n  CheckCircle,\n  AlertCircle\n} from \"lucide-react\";\nimport { DropdownMenuItem } from \"./ui/dropdown-menu\";\nimport { Label } from \"./ui/label\";\nimport { ThemeToneSelector } from \"./ThemeToneSelector\";\nimport { Separator } from \"./ui/separator\";\nimport { useLeagueDirectory } from \"@/lib/hooks/use-league-directory\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { cn } from \"@/lib/utils\";\n\nexport function SettingsDialog() {\n  const [isOpen, setIsOpen] = useState(false);\n  const leaguePath = useGameStore((s) => s.leaguePath);\n  const setLeaguePath = useGameStore((s) => s.setLeaguePath);\n  const autoUpdateData = useGameStore((s) => s.autoUpdateData);\n  const setAutoUpdateData = useGameStore((s) => s.setAutoUpdateData);\n  const { isLoading, handleSelectDirectory, handleAutoDetect } =\n    useLeagueDirectory(setLeaguePath);\n\n  const hasValidPath = leaguePath && leaguePath.length > 0;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      <DialogTrigger asChild>\n        <DropdownMenuItem\n          onSelect={(e) => {\n            e.preventDefault();\n            setIsOpen(true);\n          }}\n        >\n          <Settings className=\"size-4\" />\n          Settings\n        </DropdownMenuItem>\n      </DialogTrigger>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader className=\"text-center pb-4\">\n          <div className=\"flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mx-auto mb-4\">\n            <Settings className=\"size-8 text-primary\" />\n          </div>\n          <DialogTitle className=\"text-2xl font-bold\">Settings</DialogTitle>\n          <DialogDescription className=\"text-base\">\n            Customize your application preferences and configuration\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-8\">\n          {/* Data Management Section */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-lg\">\n                <Database className=\"size-4 text-blue-600\" />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-lg\">Data Management</h3>\n                <p className=\"text-sm text-muted-foreground\">Control how champion data is updated</p>\n              </div>\n            </div>\n            \n            <div className=\"bg-muted/30 rounded-lg p-4 border border-border/50\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-1\">\n                  <Label className=\"text-sm font-medium\">Auto Update Champion Data</Label>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Automatically fetch the latest champion data when available\n                  </p>\n                </div>\n                <Switch\n                  checked={autoUpdateData}\n                  onCheckedChange={setAutoUpdateData}\n                  className=\"data-[state=checked]:bg-green-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <Separator className=\"my-6\" />\n\n          {/* Theme Section */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex items-center justify-center w-8 h-8 bg-purple-100 rounded-lg\">\n                <Palette className=\"size-4 text-purple-600\" />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-lg\">Appearance</h3>\n                <p className=\"text-sm text-muted-foreground\">Customize the look and feel</p>\n              </div>\n            </div>\n            \n            <div className=\"bg-muted/30 rounded-lg p-4 border border-border/50\">\n              <ThemeToneSelector />\n            </div>\n          </div>\n\n          <Separator className=\"my-6\" />\n\n          {/* League Installation Section */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"flex items-center justify-center w-8 h-8 bg-orange-100 rounded-lg\">\n                <HardDrive className=\"size-4 text-orange-600\" />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-lg\">League of Legends Installation</h3>\n                <p className=\"text-sm text-muted-foreground\">Configure your game directory path</p>\n              </div>\n            </div>\n\n            <div className=\"bg-muted/30 rounded-lg p-4 border border-border/50 space-y-4\">\n              {/* Path Status Indicator */}\n              <div className=\"flex items-center gap-2 p-3 rounded-lg bg-background border\">\n                {hasValidPath ? (\n                  <>\n                    <CheckCircle className=\"size-4 text-green-500 flex-shrink-0\" />\n                    <span className=\"text-sm font-medium text-green-700\">Path configured</span>\n                  </>\n                ) : (\n                  <>\n                    <AlertCircle className=\"size-4 text-amber-500 flex-shrink-0\" />\n                    <span className=\"text-sm font-medium text-amber-700\">No path configured</span>\n                  </>\n                )}\n              </div>\n\n              {/* Path Input */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"leaguePath\" className=\"text-sm font-medium\">Installation Directory</Label>\n                <div className=\"relative\">\n                  <HardDrive className=\"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-muted-foreground\" />\n                  <Input\n                    id=\"leaguePath\"\n                    value={leaguePath ?? \"Not configured\"}\n                    readOnly\n                    className={cn(\n                      \"pl-10 font-mono text-sm\",\n                      hasValidPath ? \"text-foreground\" : \"text-muted-foreground italic\"\n                    )}\n                    placeholder=\"League of Legends installation path...\"\n                  />\n                </div>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                <Button\n                  onClick={() => void handleAutoDetect()}\n                  disabled={isLoading}\n                  variant=\"default\"\n                  className=\"w-full\"\n                >\n                  {isLoading ? (\n                    <>\n                      <RefreshCw className=\"size-4 mr-2 animate-spin\" />\n                      Detecting...\n                    </>\n                  ) : (\n                    <>\n                      <Search className=\"size-4 mr-2\" />\n                      Auto Detect\n                    </>\n                  )}\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  onClick={() => void handleSelectDirectory()}\n                  disabled={isLoading}\n                  className=\"w-full\"\n                >\n                  <FolderOpen className=\"size-4 mr-2\" />\n                  Browse Folder\n                </Button>\n              </div>\n\n              {/* Help Text */}\n              <div className=\"text-xs text-muted-foreground bg-blue-50/50 border border-blue-200/50 rounded-lg p-3\">\n                <strong>Tip:</strong> The League of Legends installation is typically located in:\n                <br /> <code className=\"bg-muted px-1 rounded\">C:\\Riot Games\\League of Legends</code>\n                <br /> <code className=\"bg-muted px-1 rounded\">C:\\Program Files\\Riot Games\\League of Legends</code>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer Section */}\n        <div className=\"pt-6 border-t border-border/50\">\n          {/* Watermark - Fixed version */}\n          <div className=\"text-center mb-6\">\n            <div className=\"inline-flex items-center gap-2 text-sm bg-gradient-to-r from-pink-50 to-red-50 border border-pink-200/50 rounded-full px-4 py-2\">\n              <Heart className=\"size-4 text-red-500 fill-red-500\" />\n              <span className=\"text-muted-foreground\">Made with love by</span>\n              <strong className=\"text-gray-900 font-semibold\">MOUSSAID &amp; FEITAN</strong>\n              <a\n                href=\"#\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"inline-flex items-center gap-1 text-blue-600 hover:text-blue-800 transition-colors underline decoration-dotted\"\n              >\n              </a>\n            </div>\n          </div>\n\n          {/* Dialog Actions */}\n          <DialogFooter className=\"flex-col sm:flex-row gap-2\">\n            <DialogClose asChild>\n              <Button variant=\"outline\" className=\"flex-1\">\n                Cancel\n              </Button>\n            </DialogClose>\n            <DialogClose asChild>\n              <Button variant=\"default\" className=\"flex-1\">\n                Save & Close\n              </Button>\n            </DialogClose>\n          </DialogFooter>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5277, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/lib/hooks/use-skin-sync.ts"],"sourcesContent":["import { useCallback, useEffect, useRef } from \"react\";\nimport { useGameStore, PartyMember } from \"@/lib/store\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { toast } from \"sonner\";\nimport pako from \"pako\";\nimport { listen } from \"@tauri-apps/api/event\";\n\ninterface SkinSyncData {\n  userSkins: {\n    championId: number;\n    skinId: number;\n    chromaId: number | null;\n    fantome: string | null;\n  }[];\n  requestType: \"request\" | \"accept\" | \"reject\";\n  version: 1;\n}\n\n// Move these above all useEffect/useCallback\nconst compressSkinData = (data: SkinSyncData): string => {\n  try {\n    const jsonString = JSON.stringify(data);\n    const compressed = pako.deflate(jsonString);\n    return btoa(\n      String.fromCharCode.apply(null, compressed as unknown as number[])\n    );\n  } catch (error) {\n    console.error(\"Failed to compress skin data:\", error);\n    throw new Error(\"Failed to compress skin data\");\n  }\n};\n\n// Helper to check if a string is valid base64\nfunction isValidBase64(str: string): boolean {\n  // Remove whitespace and check length\n  if (!str || str.length % 4 !== 0) return false;\n  // Only allow base64 chars\n  return /^[A-Za-z0-9+/=]+$/.test(str);\n}\n\n// Make the base64 validation and decoding more robust\nfunction safeBase64ToBytes(str: string): Uint8Array | null {\n  try {\n    // If the string doesn't look like base64 at all, return null early\n    if (!str || typeof str !== \"string\") return null;\n\n    // Remove all whitespace, linebreaks and other non-base64 characters\n    let cleaned = str.replace(/[^A-Za-z0-9+/=]/g, \"\");\n\n    // Add padding if needed\n    while (cleaned.length % 4 !== 0) cleaned += \"=\";\n\n    try {\n      const binary = atob(cleaned);\n      const bytes = new Uint8Array(binary.length);\n      for (let i = 0; i < binary.length; i++) bytes[i] = binary.charCodeAt(i);\n      return bytes;\n    } catch {\n      return null;\n    }\n  } catch {\n    return null;\n  }\n}\n\nconst decompressSkinData = (base64Data: string): SkinSyncData => {\n  try {\n    const bytes = safeBase64ToBytes(base64Data);\n    if (!bytes) throw new Error(\"Invalid base64 string\");\n\n    try {\n      const decompressed = pako.inflate(bytes);\n      const jsonString = new TextDecoder().decode(decompressed);\n      return JSON.parse(jsonString);\n    } catch (error) {\n      console.error(\"Failed to decompress skin data:\", error);\n      throw new Error(\"Failed to decompress skin data\");\n    }\n  } catch (error) {\n    // Create a more detailed error message for debugging\n    console.error(\n      `Base64 validation failed for: ${base64Data?.substring(\n        0,\n        20\n      )}... (length: ${base64Data?.length || 0})`\n    );\n    throw error;\n  }\n};\n\n/**\n * Hook for handling skin synchronization between friends\n */\nexport function useSkinSync() {\n  const {\n    selectedSkins,\n    partyMembers,\n    pendingSyncRequest,\n    addPartyMember,\n    removePartyMember,\n    updatePartyMemberSkins,\n    setPendingSyncRequest,\n    leaguePath,\n  } = useGameStore();\n\n  // Track if we've already checked for pending sync requests this session\n  const checkedPendingRef = useRef(false);\n\n  // Track when we last checked for pending sync requests\n  const lastCheckTimeRef = useRef(0);\n\n  // Key function to check for pending sync requests in message history\n  const checkPendingSyncRequests = useCallback(\n    async (force = false) => {\n      if (!leaguePath) return;\n\n      // Only check every 30 seconds unless forced\n      const now = Date.now();\n      if (!force && now - lastCheckTimeRef.current < 30000) return;\n      lastCheckTimeRef.current = now;\n\n      console.log(\"Checking for pending skin sync requests...\");\n\n      try {\n        // Get friends list from LCU\n        const friends = await invoke<any[]>(\"get_lcu_friends\", { leaguePath });\n        console.log(\n          `Found ${friends.length} friends to check for sync requests`\n        );\n\n        for (const friend of friends) {\n          try {\n            // Fetch recent messages from this friend\n            console.log(`Checking messages from ${friend.name} (${friend.id})`);\n            const messages = await invoke<any>(\"get_lcu_messages\", {\n              leaguePath,\n              friendId: friend.id,\n            });\n\n            if (Array.isArray(messages)) {\n              console.log(\n                `Found ${messages.length} messages with ${friend.name}`\n              );\n\n              // Look for the latest OSS-SKIN-SYNC request that hasn't been accepted/rejected\n              for (let i = messages.length - 1; i >= 0; i--) {\n                const msg = messages[i];\n                if (\n                  typeof msg.body === \"string\" &&\n                  msg.body.includes(\"[OSS-SKIN-SYNC]\")\n                ) {\n                  // Only show if it's a request (not accept/reject)\n                  const match = msg.body.match(\n                    /\\[OSS-SKIN-SYNC\\](.*?)\\[\\/OSS-SKIN-SYNC\\]/\n                  );\n                  if (match && match[1]) {\n                    try {\n                      const decoded = decompressSkinData(match[1]);\n                      if (decoded.requestType === \"request\") {\n                        console.log(`Found sync request from ${friend.name}`);\n\n                        // Only show if we haven't already accepted/rejected this request\n                        if (\n                          !pendingSyncRequest ||\n                          pendingSyncRequest.memberId !== friend.id\n                        ) {\n                          setPendingSyncRequest({\n                            memberId: friend.id,\n                            memberName: friend.name,\n                            data: match[1],\n                          });\n                          toast.info(\n                            `You have a pending sync request from ${friend.name}`\n                          );\n                          return; // Stop after finding the first request\n                        }\n                      }\n                    } catch (err) {\n                      console.error(\"Failed to decode sync request:\", err);\n                      // If base64 or decompression fails, skip this message\n                      continue;\n                    }\n                  }\n                }\n              }\n            }\n          } catch (err) {\n            console.error(`Error checking messages with ${friend.name}:`, err);\n            continue; // Try the next friend if this one fails\n          }\n        }\n        console.log(\"No pending skin sync requests found\");\n      } catch (err) {\n        console.error(\"Error checking for sync requests:\", err);\n        // Ignore errors (e.g. if League isn't running)\n      }\n    },\n    [leaguePath, pendingSyncRequest, setPendingSyncRequest]\n  );\n\n  // Check for pending sync requests on startup and when leaguePath changes\n  useEffect(() => {\n    if (leaguePath) {\n      checkPendingSyncRequests(true);\n    }\n  }, [leaguePath, checkPendingSyncRequests]);\n\n  // Set up a listener for chat messages to detect skin sync requests\n  useEffect(() => {\n    if (!leaguePath) return;\n\n    // Poll for new messages periodically\n    const intervalId = setInterval(() => {\n      pollForSyncMessages();\n    }, 10000); // Every 10 seconds\n\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, [leaguePath]);\n\n  // Check for pending sync requests in message history when Party Mode dialog is opened or user comes online\n  useEffect(() => {\n    if (!leaguePath || checkedPendingRef.current) return;\n    checkedPendingRef.current = true;\n    (async () => {\n      try {\n        // Get friends list from LCU\n        const friends = await invoke<any[]>(\"get_lcu_friends\", { leaguePath });\n        for (const friend of friends) {\n          // Fetch recent messages from this friend\n          const messages = await invoke<any>(\"get_lcu_messages\", {\n            leaguePath,\n            friendId: friend.id,\n          });\n          if (Array.isArray(messages)) {\n            // Look for the latest OSS-SKIN-SYNC request that hasn't been accepted/rejected\n            for (let i = messages.length - 1; i >= 0; i--) {\n              const msg = messages[i];\n              if (\n                typeof msg.body === \"string\" &&\n                msg.body.includes(\"[OSS-SKIN-SYNC]\")\n              ) {\n                // Only show if it's a request (not accept/reject)\n                const match = msg.body.match(\n                  /\\[OSS-SKIN-SYNC\\](.*?)\\[\\/OSS-SKIN-SYNC\\]/\n                );\n                if (match && match[1]) {\n                  try {\n                    const decoded = decompressSkinData(match[1]);\n                    if (decoded.requestType === \"request\") {\n                      // Only show if we haven't already accepted/rejected this request\n                      if (\n                        !pendingSyncRequest ||\n                        pendingSyncRequest.memberId !== friend.id\n                      ) {\n                        setPendingSyncRequest({\n                          memberId: friend.id,\n                          memberName: friend.name,\n                          data: match[1],\n                        });\n                        toast.info(\n                          `You have a pending sync request from ${friend.name}`\n                        );\n                        return;\n                      }\n                    }\n                  } catch (err) {\n                    // If base64 or decompression fails, skip this message\n                    continue;\n                  }\n                }\n              }\n            }\n          }\n        }\n      } catch (err) {\n        // Ignore errors (e.g. if League isn't running)\n      }\n    })();\n  }, [\n    leaguePath,\n    setPendingSyncRequest,\n    pendingSyncRequest,\n    decompressSkinData,\n  ]);\n\n  // Poll for messages that might contain sync requests\n  const pollForSyncMessages = useCallback(async () => {\n    if (!leaguePath || partyMembers.length >= 4) return;\n\n    try {\n      // In a real implementation, this would check recent messages from friends\n      // For now, we'll use a mock implementation\n      // Uncommenting this would create a random mock sync request for testing\n      /*\n      if (Math.random() < 0.2 && !pendingSyncRequest) { // 20% chance\n        const mockFriendId = `friend_${Date.now()}`;\n        const mockFriendName = \"TestFriend\";\n        \n        const mockSkins = [\n          {\n            championId: 266,\n            skinId: 266021,\n            chromaId: 266029,\n            fantome: \"aatrox/lunar_eclipse_aatrox_chroma_266029.fantome\",\n          }\n        ];\n        \n        const syncData: SkinSyncData = {\n          userSkins: mockSkins,\n          requestType: \"request\",\n          version: 1\n        };\n        \n        const encodedData = compressSkinData(syncData);\n        \n        setPendingSyncRequest({\n          memberId: mockFriendId,\n          memberName: mockFriendName,\n          data: encodedData\n        });\n        \n        toast.info(`Received sync request from ${mockFriendName}`);\n      }\n      */\n    } catch (error) {\n      console.error(\"Error polling for sync messages:\", error);\n    }\n  }, [leaguePath, partyMembers, pendingSyncRequest]);\n\n  // Send a sync request to a friend\n  const sendSyncRequest = useCallback(\n    async (friendId: string, friendName: string) => {\n      try {\n        // Check if we've reached the maximum party size (5 including the user)\n        if (partyMembers.length >= 4) {\n          toast.error(\"Party can have a maximum of 5 members\");\n          return Promise.reject(\"Party size limit reached\");\n        }\n\n        // Make sure we have a league path\n        if (!leaguePath) {\n          toast.error(\n            \"League path not set. Please configure your League of Legends path in settings.\"\n          );\n          return Promise.reject(\"League path not set\");\n        }\n\n        // Convert selected skins Map to array\n        const skinArray = Array.from(selectedSkins.values()).map((skin) => ({\n          championId: skin.championId,\n          skinId: skin.skinId,\n          chromaId: skin.chromaId || null,\n          fantome: skin.fantome || null,\n        }));\n\n        // Prepare data for sync\n        const syncData: SkinSyncData = {\n          userSkins: skinArray,\n          requestType: \"request\",\n          version: 1,\n        };\n\n        // Compress and encode data\n        const encodedData = compressSkinData(syncData);\n\n        // Generate the special message format that contains the sync code\n        const syncMessage = `[OSS-SKIN-SYNC]${encodedData}[/OSS-SKIN-SYNC]`;\n\n        // Send message via LCU API\n        try {\n          await invoke(\"send_lcu_message\", {\n            leaguePath,\n            friendId,\n            message: syncMessage,\n          });\n\n          // Add friend to party\n          addPartyMember({\n            id: friendId,\n            name: friendName,\n            availability: \"online\",\n            skins: new Map(),\n          });\n\n          toast.success(`Sync request sent to ${friendName}`);\n        } catch (error) {\n          console.error(\"Failed to send LCU message:\", error);\n          toast.error(\n            `Could not send message to ${friendName}. Make sure League of Legends is running.`\n          );\n          return Promise.reject(error);\n        }\n\n        return Promise.resolve();\n      } catch (error) {\n        console.error(\"Failed to send sync request:\", error);\n        return Promise.reject(error);\n      }\n    },\n    [selectedSkins, partyMembers, compressSkinData, addPartyMember, leaguePath]\n  );\n\n  // Accept a sync request from a friend\n  const acceptSync = useCallback(\n    async (friendId: string, friendName: string) => {\n      try {\n        if (!pendingSyncRequest) {\n          return;\n        }\n\n        // Decode the received data\n        const decodedData = decompressSkinData(pendingSyncRequest.data);\n        console.log(\"Decoded skin data:\", decodedData);\n\n        // Create a new map of skins from the friend\n        const friendSkins = new Map();\n        decodedData.userSkins.forEach((skin) => {\n          friendSkins.set(skin.championId, {\n            championId: skin.championId,\n            skinId: skin.skinId,\n            chromaId: skin.chromaId || undefined,\n            fantome: skin.fantome || undefined,\n          });\n        });\n\n        // Add the friend to our party with their skins\n        addPartyMember({\n          id: friendId,\n          name: friendName,\n          availability: \"online\",\n          skins: friendSkins,\n        });\n\n        // Clear the pending request\n        setPendingSyncRequest(null);\n\n        // Send an acceptance response if league path is set\n        if (leaguePath) {\n          const responseData: SkinSyncData = {\n            userSkins: Array.from(selectedSkins.values()).map((skin) => ({\n              championId: skin.championId,\n              skinId: skin.skinId,\n              chromaId: skin.chromaId || null,\n              fantome: skin.fantome || null,\n            })),\n            requestType: \"accept\",\n            version: 1,\n          };\n\n          // Compress and encode response\n          const encodedResponse = compressSkinData(responseData);\n          const responseMessage = `[OSS-SKIN-SYNC]${encodedResponse}[/OSS-SKIN-SYNC]`;\n\n          try {\n            await invoke(\"send_lcu_message\", {\n              leaguePath,\n              friendId,\n              message: responseMessage,\n            });\n          } catch (error) {\n            console.error(\"Failed to send acceptance message:\", error);\n            toast.error(\n              `Accepted the request, but couldn't send confirmation to ${friendName}`\n            );\n          }\n        }\n\n        toast.success(`Accepted sync request from ${friendName}`);\n      } catch (error) {\n        console.error(\"Failed to accept sync request:\", error);\n        setPendingSyncRequest(null);\n        toast.error(`Failed to accept sync request from ${friendName}`);\n      }\n    },\n    [\n      pendingSyncRequest,\n      decompressSkinData,\n      addPartyMember,\n      selectedSkins,\n      setPendingSyncRequest,\n      compressSkinData,\n      leaguePath,\n    ]\n  );\n\n  // Reject a sync request from a friend\n  const rejectSync = useCallback(\n    (friendId: string) => {\n      // Remove from party if they're in it\n      removePartyMember(friendId);\n\n      // If this was rejecting a pending request, clear it and send rejection\n      if (pendingSyncRequest && pendingSyncRequest.memberId === friendId) {\n        setPendingSyncRequest(null);\n\n        // Send rejection message if league path is set\n        if (leaguePath) {\n          // Send rejection message\n          const rejectionData: SkinSyncData = {\n            userSkins: [],\n            requestType: \"reject\",\n            version: 1,\n          };\n\n          try {\n            // Compress and encode rejection\n            const encodedRejection = compressSkinData(rejectionData);\n            const rejectionMessage = `[OSS-SKIN-SYNC]${encodedRejection}[/OSS-SKIN-SYNC]`;\n\n            // Send the rejection via LCU API\n            invoke(\"send_lcu_message\", {\n              leaguePath,\n              friendId,\n              message: rejectionMessage,\n            });\n          } catch (error) {\n            console.error(\"Failed to send rejection:\", error);\n          }\n        }\n\n        toast.info(`Rejected sync request`);\n      } else {\n        toast.info(`Removed player from party`);\n      }\n    },\n    [\n      pendingSyncRequest,\n      removePartyMember,\n      setPendingSyncRequest,\n      compressSkinData,\n      leaguePath,\n    ]\n  );\n\n  // Handle an incoming message to detect sync requests\n  const handleIncomingMessage = useCallback(\n    (message: string, senderId: string, senderName: string) => {\n      // Check if the message is a skin sync message\n      const syncPattern = /\\[OSS-SKIN-SYNC\\](.*?)\\[\\/OSS-SKIN-SYNC\\]/;\n      const match = message.match(syncPattern);\n\n      if (match && match[1]) {\n        try {\n          const encodedData = match[1];\n          const decodedData = decompressSkinData(encodedData);\n\n          switch (decodedData.requestType) {\n            case \"request\":\n              // It's a new sync request\n              setPendingSyncRequest({\n                memberId: senderId,\n                memberName: senderName,\n                data: encodedData,\n              });\n              toast.info(`Received sync request from ${senderName}`);\n              break;\n\n            case \"accept\":\n              // A friend accepted our request\n              if (partyMembers.some((m) => m.id === senderId)) {\n                // Create a map of skins from the friend\n                const friendSkins = new Map();\n                decodedData.userSkins.forEach((skin) => {\n                  friendSkins.set(skin.championId, {\n                    championId: skin.championId,\n                    skinId: skin.skinId,\n                    chromaId: skin.chromaId || undefined,\n                    fantome: skin.fantome || undefined,\n                  });\n                });\n\n                // Update the friend's skins\n                updatePartyMemberSkins(senderId, friendSkins);\n                toast.success(`${senderName} accepted your sync request`);\n              }\n              break;\n\n            case \"reject\":\n              // A friend rejected our request\n              removePartyMember(senderId);\n              toast.info(`${senderName} rejected your sync request`);\n              break;\n          }\n        } catch (error) {\n          console.error(\"Failed to process skin sync message:\", error);\n        }\n      }\n    },\n    [\n      decompressSkinData,\n      setPendingSyncRequest,\n      partyMembers,\n      updatePartyMemberSkins,\n      removePartyMember,\n    ]\n  );\n\n  // Function to find a party member's skin for a given champion\n  const getPartySkinForChampion = useCallback(\n    (championId: number) => {\n      // Check if any party member has a skin for this champion\n      for (const member of partyMembers) {\n        if (member.skins.has(championId)) {\n          return member.skins.get(championId);\n        }\n      }\n      return null;\n    },\n    [partyMembers]\n  );\n\n  // Modified game injection logic to include party member skins\n  const injectWithPartySkins = useCallback(\n    async (championId: number) => {\n      try {\n        // First, check if the user has selected a skin for this champion\n        const userSkin = selectedSkins.get(championId);\n\n        // Then check if any party member has a skin for this champion\n        const partySkin = getPartySkinForChampion(championId);\n\n        // If neither the user nor any party member has a skin for this champion, do nothing\n        if (!userSkin && !partySkin) {\n          return;\n        }\n\n        // Prefer user's own skin selection, fall back to party member's skin\n        const skinToInject = userSkin || partySkin;\n\n        if (skinToInject && leaguePath) {\n          // Use the existing inject_skins Tauri command\n          await invoke(\"inject_skins\", {\n            app: window.__TAURI__,\n            request: {\n              league_path: leaguePath,\n              skins: [\n                {\n                  champion_id: skinToInject.championId,\n                  skin_id: skinToInject.skinId,\n                  chroma_id: skinToInject.chromaId,\n                  fantome_path: skinToInject.fantome,\n                },\n              ],\n            },\n          });\n\n          if (partySkin && !userSkin) {\n            // Notify if using a party member's skin\n            toast.info(`Using party member's skin for champion ${championId}`);\n          }\n        }\n      } catch (error) {\n        console.error(\n          `Failed to inject party skin for champion ${championId}:`,\n          error\n        );\n        toast.error(`Failed to inject skin for champion ${championId}`);\n      }\n    },\n    [selectedSkins, partyMembers, leaguePath, getPartySkinForChampion]\n  );\n\n  return {\n    activePartyMembers: partyMembers,\n    pendingSyncRequest,\n    sendSyncRequest,\n    acceptSync,\n    rejectSync,\n    handleIncomingMessage,\n    injectWithPartySkins,\n    getPartySkinForChampion,\n    checkPendingSyncRequests, // Expose the check function for manual triggers\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5844, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn(\"text-lg font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: \"outline\" }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAGA;AAEA;AACA;AANA;;;;;AAQA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,6VAAC,kRAAA,CAAA,OAAyB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,6VAAC,kRAAA,CAAA,UAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;AAEA,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,6VAAC,kRAAA,CAAA,SAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;AAEA,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,6VAAC,kRAAA,CAAA,UAA4B;QAC3B,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,6VAAC;;0BACC,6VAAC;;;;;0BACD,6VAAC,kRAAA,CAAA,UAA4B;gBAC3B,aAAU;gBACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+WACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,6VAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,6VAAC,kRAAA,CAAA,QAA0B;QACzB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6VAAC,kRAAA,CAAA,cAAgC;QAC/B,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6VAAC,kRAAA,CAAA,SAA2B;QAC1B,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,CAAA,GAAA,kIAAA,CAAA,iBAAc,AAAD,KAAK;QAC/B,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6VAAC,kRAAA,CAAA,SAA2B;QAC1B,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,CAAA,GAAA,kIAAA,CAAA,iBAAc,AAAD,EAAE;YAAE,SAAS;QAAU,IAAI;QACrD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 6004, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/lib/hooks/use-party-friends.ts"],"sourcesContent":["import { useState, useCallback } from \"react\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { toast } from \"sonner\";\n\nexport interface Friend {\n  name: string;\n  id: string;\n  availability: \"online\" | \"away\" | \"offline\" | \"in-game\";\n  game?: string;\n  inParty?: boolean;\n}\n\nexport function usePartyFriends(leaguePath: string | null) {\n  const [friends, setFriends] = useState<Friend[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const fetchFriends = useCallback(async () => {\n    setIsLoading(true);\n    if (!leaguePath) {\n      toast.error(\n        \"League path not set. Please set your League of Legends path in settings.\"\n      );\n      setIsLoading(false);\n      return;\n    }\n    try {\n      const lcuFriends = await invoke<any[]>(\"get_lcu_friends\", {\n        app: window.__TAURI__,\n        leaguePath,\n      });\n      const mappedFriends: Friend[] = lcuFriends.map((friend) => ({\n        name: friend.name,\n        id: friend.id,\n        availability:\n          friend.availability === \"chat\"\n            ? \"online\"\n            : friend.availability === \"dnd\"\n            ? \"away\"\n            : friend.availability === \"away\"\n            ? \"away\"\n            : friend.availability === \"offline\"\n            ? \"offline\"\n            : friend.availability === \"mobile\"\n            ? \"away\"\n            : \"online\",\n        game: friend.gameTag || undefined,\n      }));\n      setFriends(mappedFriends);\n    } catch (error) {\n      // fallback to mock friends\n      setFriends([\n        { name: \"SummonerOne\", id: \"friend1\", availability: \"online\" },\n        {\n          name: \"SummonerTwo\",\n          id: \"friend2\",\n          availability: \"in-game\",\n          game: \"League of Legends\",\n        },\n        { name: \"SummonerThree\", id: \"friend3\", availability: \"away\" },\n      ]);\n      toast.error(\"League client not detected. Using demo friends list.\");\n    } finally {\n      setIsLoading(false);\n    }\n  }, [leaguePath]);\n\n  return { friends, isLoading, fetchFriends };\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAUO,SAAS,gBAAgB,UAAyB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,oTAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,eAAe,CAAA,GAAA,oTAAA,CAAA,cAAW,AAAD,EAAE;QAC/B,aAAa;QACb,IAAI,CAAC,YAAY;YACf,wQAAA,CAAA,QAAK,CAAC,KAAK,CACT;YAEF,aAAa;YACb;QACF;QACA,IAAI;YACF,MAAM,aAAa,MAAM,CAAA,GAAA,iNAAA,CAAA,SAAM,AAAD,EAAS,mBAAmB;gBACxD,KAAK,OAAO,SAAS;gBACrB;YACF;YACA,MAAM,gBAA0B,WAAW,GAAG,CAAC,CAAC,SAAW,CAAC;oBAC1D,MAAM,OAAO,IAAI;oBACjB,IAAI,OAAO,EAAE;oBACb,cACE,OAAO,YAAY,KAAK,SACpB,WACA,OAAO,YAAY,KAAK,QACxB,SACA,OAAO,YAAY,KAAK,SACxB,SACA,OAAO,YAAY,KAAK,YACxB,YACA,OAAO,YAAY,KAAK,WACxB,SACA;oBACN,MAAM,OAAO,OAAO,IAAI;gBAC1B,CAAC;YACD,WAAW;QACb,EAAE,OAAO,OAAO;YACd,2BAA2B;YAC3B,WAAW;gBACT;oBAAE,MAAM;oBAAe,IAAI;oBAAW,cAAc;gBAAS;gBAC7D;oBACE,MAAM;oBACN,IAAI;oBACJ,cAAc;oBACd,MAAM;gBACR;gBACA;oBAAE,MAAM;oBAAiB,IAAI;oBAAW,cAAc;gBAAO;aAC9D;YACD,wQAAA,CAAA,QAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,aAAa;QACf;IACF,GAAG;QAAC;KAAW;IAEf,OAAO;QAAE;QAAS;QAAW;IAAa;AAC5C","debugId":null}},
    {"offset": {"line": 6074, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/PartyModeDialog.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogTrigger,\n  DialogFooter,\n  DialogClose,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { DropdownMenuItem, DropdownMenuSeparator } from \"./ui/dropdown-menu\";\nimport { useGameStore } from \"@/lib/store\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { toast } from \"sonner\";\nimport { Users, UserCheck, UserX, RefreshCw, MailCheck } from \"lucide-react\";\nimport { Label } from \"./ui/label\";\nimport { Separator } from \"./ui/separator\";\nimport { ScrollArea } from \"./ui/scroll-area\";\nimport { useSkinSync } from \"@/lib/hooks/use-skin-sync\";\nimport {\n  AlertDialog,\n  AlertDialogDescription,\n  AlertDialogTitle,\n} from \"./ui/alert-dialog\";\nimport { shallow } from \"zustand/shallow\";\nimport { usePartyFriends } from \"@/lib/hooks/use-party-friends\";\n\ninterface Friend {\n  name: string;\n  id: string;\n  availability: \"online\" | \"away\" | \"offline\" | \"in-game\";\n  game?: string;\n  inParty?: boolean;\n}\n\nfunction PartyMemberList({\n  members,\n  onRemove,\n  getAvailabilityColor,\n}: {\n  members: { id: string; name: string; availability: string }[];\n  onRemove: (id: string) => void;\n  getAvailabilityColor: (availability: string) => string;\n}) {\n  return (\n    <>\n      <p className=\"text-sm font-medium\">Active Party ({members.length}/5)</p>\n      {members.map((member) => (\n        <div\n          key={member.id}\n          className=\"flex items-center justify-between p-2 rounded-lg bg-primary/10\"\n        >\n          <div className=\"flex items-center gap-2\">\n            <div\n              className={`h-3 w-3 rounded-full ${getAvailabilityColor(\n                member.availability\n              )}`}\n            ></div>\n            <span>{member.name}</span>\n          </div>\n          <Button\n            size=\"sm\"\n            variant=\"destructive\"\n            onClick={() => onRemove(member.id)}\n          >\n            Remove\n          </Button>\n        </div>\n      ))}\n      <Separator className=\"my-2\" />\n    </>\n  );\n}\n\nfunction FriendList({\n  friends,\n  activePartyMembers,\n  onSync,\n  getAvailabilityColor,\n}: {\n  friends: { id: string; name: string; availability: string; game?: string }[];\n  activePartyMembers: { id: string }[];\n  onSync: (id: string, name: string) => void;\n  getAvailabilityColor: (availability: string) => string;\n}) {\n  return (\n    <>\n      <p className=\"text-sm font-medium\">Available Friends</p>\n      {friends\n        .filter((friend) => !activePartyMembers.some((m) => m.id === friend.id))\n        .map((friend) => (\n          <div\n            key={friend.id}\n            className=\"flex items-center justify-between p-2 rounded-lg hover:bg-primary/5\"\n          >\n            <div className=\"flex items-center gap-2\">\n              <div\n                className={`h-3 w-3 rounded-full ${getAvailabilityColor(\n                  friend.availability\n                )}`}\n              ></div>\n              <span>{friend.name}</span>\n              {friend.game && (\n                <span className=\"text-xs text-muted-foreground ml-1\">\n                  {friend.game}\n                </span>\n              )}\n            </div>\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              onClick={() => onSync(friend.id, friend.name)}\n            >\n              Sync\n            </Button>\n          </div>\n        ))}\n    </>\n  );\n}\n\nexport const PartyModeDialog = React.memo(function PartyModeDialog() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [checkingRequests, setCheckingRequests] = useState(false);\n  const leaguePath = useGameStore((s) => s.leaguePath);\n  const selectedSkins = useGameStore((s) => s.selectedSkins);\n  const {\n    sendSyncRequest,\n    acceptSync,\n    rejectSync,\n    pendingSyncRequest,\n    activePartyMembers,\n    checkPendingSyncRequests,\n  } = useSkinSync();\n  const { friends, isLoading, fetchFriends } = usePartyFriends(leaguePath);\n\n  // Fetch friends when the dialog opens\n  useEffect(() => {\n    if (isOpen) {\n      fetchFriends();\n      // Also check for pending sync requests when dialog opens\n      handleCheckPendingRequests();\n    }\n  }, [isOpen]);\n\n  const handleCheckPendingRequests = async () => {\n    if (!leaguePath) {\n      toast.error(\n        \"League path not set. Please configure your League of Legends path in settings.\"\n      );\n      return;\n    }\n\n    setCheckingRequests(true);\n    try {\n      await checkPendingSyncRequests(true);\n      toast.info(\"Checked for pending sync requests\");\n    } catch (error) {\n      console.error(\"Error checking for pending requests:\", error);\n    } finally {\n      setCheckingRequests(false);\n    }\n  };\n\n  const handleSyncRequest = async (friendId: string, friendName: string) => {\n    try {\n      await sendSyncRequest(friendId, friendName);\n      toast.success(`Sync request sent to ${friendName}`);\n    } catch (err) {\n      console.error(`Failed to send sync request to ${friendName}:`, err);\n      toast.error(`Failed to send sync request to ${friendName}`);\n    }\n  };\n\n  const getAvailabilityColor = (availability: string) => {\n    switch (availability) {\n      case \"online\":\n        return \"bg-green-500\";\n      case \"away\":\n        return \"bg-yellow-500\";\n      case \"in-game\":\n        return \"bg-blue-500\";\n      default:\n        return \"bg-gray-500\";\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\n      <DialogTrigger asChild>\n        <DropdownMenuItem\n          onSelect={(e) => {\n            e.preventDefault();\n            setIsOpen(true);\n          }}\n        >\n          <Users className=\"h-4 w-4\" />\n          Party Mode\n        </DropdownMenuItem>\n      </DialogTrigger>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center justify-between\">\n            <span>Party Mode</span>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleCheckPendingRequests}\n              disabled={checkingRequests || !leaguePath}\n            >\n              <MailCheck\n                className={`h-4 w-4 mr-2 ${\n                  checkingRequests ? \"animate-spin\" : \"\"\n                }`}\n              />\n              Check Invites\n            </Button>\n          </DialogTitle>\n          <DialogDescription>\n            Share your skin selections with friends. When in a party, each\n            player will see the others' selected skins.\n          </DialogDescription>\n        </DialogHeader>\n\n        {pendingSyncRequest && (\n          <AlertDialog>\n            <AlertDialogTitle>\n              Sync Request from{\" \"}\n              {pendingSyncRequest.memberName || pendingSyncRequest.memberId}\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              {pendingSyncRequest.memberName || pendingSyncRequest.memberId}{\" \"}\n              wants to sync skin selections with you. Accept to see each other's\n              skins in game.\n            </AlertDialogDescription>\n            <div className=\"flex gap-2 mt-2\">\n              <Button\n                onClick={() =>\n                  acceptSync(\n                    pendingSyncRequest.memberId,\n                    pendingSyncRequest.memberName || pendingSyncRequest.memberId\n                  )\n                }\n                size=\"sm\"\n              >\n                <UserCheck className=\"mr-2 h-4 w-4\" />\n                Accept\n              </Button>\n              <Button\n                onClick={() => rejectSync(pendingSyncRequest.memberId)}\n                variant=\"outline\"\n                size=\"sm\"\n              >\n                <UserX className=\"mr-2 h-4 w-4\" />\n                Decline\n              </Button>\n            </div>\n          </AlertDialog>\n        )}\n\n        <div className=\"grid gap-4 py-4\">\n          <div className=\"grid grid-cols-1 gap-2\">\n            <div className=\"flex items-center justify-between\">\n              <Label>Friends ({friends.length})</Label>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={fetchFriends}\n                disabled={isLoading}\n              >\n                <RefreshCw\n                  className={`h-4 w-4 ${isLoading ? \"animate-spin\" : \"\"}`}\n                />\n              </Button>\n            </div>\n\n            <ScrollArea className=\"h-72 rounded-md border\">\n              {friends.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center h-full text-muted-foreground p-4\">\n                  {isLoading ? \"Loading friends...\" : \"No friends found\"}\n                </div>\n              ) : (\n                <div className=\"p-4 space-y-2\">\n                  {activePartyMembers.length > 0 && (\n                    <PartyMemberList\n                      members={activePartyMembers}\n                      onRemove={rejectSync}\n                      getAvailabilityColor={getAvailabilityColor}\n                    />\n                  )}\n\n                  <FriendList\n                    friends={friends}\n                    activePartyMembers={activePartyMembers}\n                    onSync={handleSyncRequest}\n                    getAvailabilityColor={getAvailabilityColor}\n                  />\n                </div>\n              )}\n            </ScrollArea>\n          </div>\n        </div>\n\n        <DialogFooter>\n          <DialogClose asChild>\n            <Button variant=\"default\">Close</Button>\n          </DialogClose>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n});\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 6589, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-background text-primary-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring data-[state=active]:bg-primary/30 text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6VAAC,gRAAA,CAAA,OAAkB;QACjB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6VAAC,gRAAA,CAAA,OAAkB;QACjB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6VAAC,gRAAA,CAAA,UAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,8jBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6VAAC,gRAAA,CAAA,UAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 6653, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/layout/TopBar.tsx"],"sourcesContent":["\"use client\";\n\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { Button } from \"@/components/ui/button\";\nimport { RefreshCw, Menu, Search, Crown, Sparkles } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport { InjectionStatusDot } from \"@/components/InjectionStatusDot\";\nimport { TitleBar } from \"@/components/ui/titlebar/TitleBar\";\nimport { ChampionSearch } from \"@/components/ChampionSearch\";\nimport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n} from \"@/components/ui/dropdown-menu\";\nimport { TerminalLogsDialog } from \"@/components/TerminalLogsDialog\";\nimport { SettingsDialog } from \"@/components/SettingsDialog\";\nimport { PartyModeDialog } from \"@/components/PartyModeDialog\";\nimport { useGameStore, SkinTab } from \"@/lib/store\";\nimport { useEffect } from \"react\";\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Champion } from \"@/lib/types\";\nimport React from \"react\";\n\ninterface TopBarProps {\n  champions: Champion[];\n  selectedChampionId: number | null;\n  searchQuery: string;\n  onSearchChange: (query: string) => void;\n  onUpdateData: () => void;\n  isUpdating?: boolean;\n}\n\nexport const TopBar = React.memo(function TopBar({\n  champions,\n  selectedChampionId,\n  searchQuery,\n  onSearchChange,\n  onUpdateData,\n  isUpdating = false,\n}: TopBarProps) {\n  // Only subscribe to the specific state needed\n  const activeTab = useGameStore((s) => s.activeTab);\n  const setActiveTab = useGameStore((s) => s.setActiveTab);\n\n  // Load saved tab preference from localStorage\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      const savedTab = localStorage.getItem(\"activeSkinsTab\") as SkinTab | null;\n      if (savedTab) {\n        setActiveTab(savedTab);\n      }\n    }\n  }, [setActiveTab]);\n\n  // Force update by deleting cache and updating\n  async function handleForceUpdateData() {\n    try {\n      toast.promise(\n        async () => {\n          // Delete champion cache first\n          await invoke(\"delete_champions_cache\");\n          // Then run update\n          onUpdateData();\n        },\n        {\n          loading: \"Clearing cached data...\",\n          success: \"Cache cleared successfully, updating champion data\",\n          error: \"Failed to clear champion cache\",\n        }\n      );\n    } catch (error) {\n      console.error(\"Error during force update:\", error);\n    }\n  }\n\n  return (\n    <div\n      data-tauri-drag-region\n      onMouseDown={(e) => {\n        if (\n          (e.target as HTMLElement).closest(\"[data-tauri-drag-region]\") &&\n          !(e.target as HTMLElement).closest(\n            \"button, input, [role='button'], [role='combobox']\"\n          )\n        ) {\n          // Use the WebviewWindow API for window dragging\n          import(\"@tauri-apps/api/webviewWindow\")\n            .then(({ getCurrentWebviewWindow }) => {\n              const appWindow = getCurrentWebviewWindow();\n              appWindow.startDragging().catch((error: unknown) => {\n                console.error(\"Failed to start dragging:\", error);\n              });\n            })\n            .catch((error: unknown) => {\n              console.error(error);\n            });\n        }\n      }}\n      className=\"flex flex-col w-full mx-auto bg-gradient-to-r from-white/80 via-slate-50/80 to-white/80 dark:from-slate-900/80 dark:via-slate-800/80 dark:to-slate-900/80 backdrop-blur-md border-b border-slate-200/50 dark:border-slate-700/50 shadow-lg\"\n    >\n      {/* Decorative gradient line */}\n      <div className=\"h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-500 opacity-60\"></div>\n      \n      <div className=\"flex items-center justify-between gap-6 p-4 w-full mx-auto\">\n        {/* Left Section - Brand & Search */}\n        <div className=\"flex items-center gap-4 w-1/3 xl:w-1/4\">\n          {/* Brand Logo/Icon */}\n          <div className=\"flex items-center gap-2 shrink-0\">\n            <div className=\"relative w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg\">\n              <Crown className=\"h-5 w-5 text-white\" />\n              <Sparkles className=\"absolute -top-1 -right-1 h-3 w-3 text-yellow-400 animate-pulse\" />\n            </div>\n            <div className=\"hidden md:block\">\n              <h1 className=\"text-lg font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                FeitanxMoussaid\n              </h1>\n            </div>\n          </div>\n\n          {/* Enhanced Search Area */}\n          <div className=\"relative flex-1 min-w-0\">\n            <div className=\"absolute left-3 top-1/2 transform -translate-y-1/2 z-10\">\n              <Search className=\"h-4 w-4 text-slate-400\" />\n            </div>\n            <ChampionSearch\n              champions={champions}\n              onSelect={() => {}} // Empty function since we handle selection in main page\n              selectedChampionId={selectedChampionId}\n              searchQuery={searchQuery}\n              onSearchChange={onSearchChange}\n            />\n          </div>\n        </div>\n\n        {/* Center Section - Navigation Tabs */}\n        <div className=\"flex items-center justify-center flex-1\">\n          <div className=\"bg-white/60 dark:bg-slate-800/60 backdrop-blur-sm rounded-full p-1 border border-slate-200/50 dark:border-slate-700/50 shadow-inner\">\n            <Tabs\n              value={activeTab}\n              onValueChange={(value) => {\n                setActiveTab(value as SkinTab);\n              }}\n              className=\"w-full\"\n            >\n              <TabsList className=\"bg-transparent border-0 gap-1 h-auto p-0\">\n                <TabsTrigger \n                  value=\"official\" \n                  className=\"relative px-6 py-2.5 rounded-full font-medium transition-all duration-300 data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=inactive]:text-slate-600 data-[state=inactive]:hover:text-slate-800 dark:data-[state=inactive]:text-slate-400 dark:data-[state=inactive]:hover:text-slate-200\"\n                >\n                  <Crown className=\"h-4 w-4 mr-2\" />\n                  Official Skins\n                </TabsTrigger>\n                <TabsTrigger \n                  value=\"custom\" \n                  className=\"relative px-6 py-2.5 rounded-full font-medium transition-all duration-300 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-indigo-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=inactive]:text-slate-600 data-[state=inactive]:hover:text-slate-800 dark:data-[state=inactive]:text-slate-400 dark:data-[state=inactive]:hover:text-slate-200\"\n                >\n                  <Sparkles className=\"h-4 w-4 mr-2\" />\n                  Custom Skins\n                </TabsTrigger>\n              </TabsList>\n            </Tabs>\n          </div>\n        </div>\n\n        {/* Right Section - Status & Actions */}\n        <div className=\"flex items-center gap-3\">\n          {/* Status Indicator */}\n          <div className=\"flex items-center gap-2 px-3 py-2 bg-white/60 dark:bg-slate-800/60 backdrop-blur-sm rounded-full border border-slate-200/50 dark:border-slate-700/50 shadow-sm\">\n            <InjectionStatusDot />\n            <span className=\"text-xs font-medium text-slate-600 dark:text-slate-400 hidden lg:block\">\n              Status\n            </span>\n          </div>\n\n          {/* Menu Button */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button \n                variant=\"outline\" \n                size=\"icon\" \n                aria-label=\"Menu\"\n                className=\"bg-white/60 dark:bg-slate-800/60 backdrop-blur-sm border-slate-200/50 dark:border-slate-700/50 hover:bg-white/80 dark:hover:bg-slate-700/80 shadow-sm h-10 w-10\"\n              >\n                <Menu className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent \n              className=\"min-w-56 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md border-slate-200/50 dark:border-slate-700/50 shadow-xl\" \n              align=\"end\"\n            >\n              <div className=\"px-3 py-2 border-b border-slate-200/50 dark:border-slate-700/50\">\n                <p className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">Actions</p>\n              </div>\n              \n              <PartyModeDialog />\n              \n              <DropdownMenuItem\n                onClick={() => {\n                  onUpdateData();\n                }}\n                className=\"flex items-center gap-3 px-3 py-2.5 hover:bg-blue-50/80 dark:hover:bg-blue-900/20 transition-colors\"\n              >\n                <div className=\"w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center\">\n                  <RefreshCw className=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\n                </div>\n                <div className=\"flex-1\">\n                  <p className=\"text-sm font-medium\">Check for Updates</p>\n                  <p className=\"text-xs text-slate-500 dark:text-slate-400\">Update champion data</p>\n                </div>\n              </DropdownMenuItem>\n              \n              <DropdownMenuItem\n                onClick={() => {\n                  void handleForceUpdateData();\n                }}\n                className=\"flex items-center gap-3 px-3 py-2.5 hover:bg-orange-50/80 dark:hover:bg-orange-900/20 transition-colors\"\n                disabled={activeTab === \"custom\"}\n              >\n                <div className=\"w-8 h-8 rounded-lg bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center\">\n                  <RefreshCw className=\"h-4 w-4 text-orange-600 dark:text-orange-400\" />\n                </div>\n                <div className=\"flex-1\">\n                  <p className=\"text-sm font-medium\">Force Update Data</p>\n                  <p className=\"text-xs text-slate-500 dark:text-slate-400\">Clear cache & update</p>\n                </div>\n              </DropdownMenuItem>\n              \n              <div className=\"border-t border-slate-200/50 dark:border-slate-700/50 mt-1\">\n                <TerminalLogsDialog />\n                <SettingsDialog />\n              </div>\n            </DropdownMenuContent>\n          </DropdownMenu>\n          \n          <TitleBar />\n        </div>\n      </div>\n    </div>\n  );\n});"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7147, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        \"bg-primary/20 relative h-2 w-full overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value ?? 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD;IACpD,qBACE,6VAAC,8QAAA,CAAA,OAAsB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,6VAAC,8QAAA,CAAA,YAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIlE","debugId":null}},
    {"offset": {"line": 7186, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/DownloadingModal.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { DataUpdateProgress, DataUpdateResult } from \"@/lib/types\";\nimport { useEffect, useState, useTransition } from \"react\";\nimport { toast } from \"sonner\";\nimport { invoke } from \"@tauri-apps/api/core\";\n\ninterface DownloadingModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  progress: DataUpdateProgress | null;\n  isUpdating: boolean;\n}\n\nexport function DownloadingModal({\n  isOpen,\n  onClose,\n  progress,\n  isUpdating,\n}: DownloadingModalProps) {\n  const [isPending, startTransition] = useTransition();\n  const [updateResult, setUpdateResult] = useState<DataUpdateResult | null>(\n    null\n  );\n  const [checkingForUpdates, setCheckingForUpdates] = useState(false);\n  const [updatingData, setUpdatingData] = useState(false);\n\n  // Check for GitHub updates when the modal is opened\n  useEffect(() => {\n    if (isOpen) {\n      checkForUpdates();\n    }\n  }, [isOpen]);\n\n  // Function to check for updates from GitHub\n  const checkForUpdates = () => {\n    setCheckingForUpdates(true);\n\n    startTransition(async () => {\n      try {\n        const result = await invoke<DataUpdateResult>(\"check_github_updates\");\n        setUpdateResult(result);\n        console.log(\"Update check result:\", result);\n      } catch (error) {\n        console.error(\"Failed to check for updates:\", error);\n        toast.error(\"Failed to check for updates\");\n      } finally {\n        setCheckingForUpdates(false);\n      }\n    });\n  };\n\n  // Function to pull updates from GitHub\n  const pullUpdates = () => {\n    setUpdatingData(true);\n\n    startTransition(async () => {\n      try {\n        const updateToast = toast.loading(\"Updating data from GitHub...\");\n        const result = await invoke<DataUpdateResult>(\n          \"update_champion_data_from_github\"\n        );\n\n        toast.dismiss(updateToast);\n\n        if (result.success) {\n          toast.success(\n            `Update completed successfully! ${\n              result.updatedChampions?.length ?? 0\n            } champions updated.`\n          );\n          setUpdateResult(result);\n        } else {\n          toast.error(`Update failed: ${result.error ?? \"Unknown error\"}`);\n        }\n      } catch (error) {\n        console.error(\"Failed to update data:\", error);\n        toast.error(`Failed to update data: ${error}`);\n      } finally {\n        setUpdatingData(false);\n      }\n    });\n  };\n\n  const getStatusMessage = () => {\n    if (checkingForUpdates) return \"Checking for updates...\";\n    if (updatingData) return \"Updating data...\";\n    if (!progress) return \"Initializing...\";\n\n    switch (progress.status) {\n      case \"checking\":\n        return \"Checking for updates...\";\n      case \"downloading\":\n        return \"Downloading updates...\";\n      case \"processing\":\n        return `Processing ${progress.currentChampion}...`;\n      default:\n        return \"Processing updates...\";\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\n      <DialogContent className=\"sm:max-w-md\">\n        <div className=\"flex flex-col space-y-4\">\n          <DialogHeader>\n            <DialogTitle>Data Updates</DialogTitle>\n            <p className=\"text-sm text-muted-foreground animate-in fade-in-50 duration-300\">\n              {getStatusMessage()}\n            </p>\n          </DialogHeader>\n\n          {/* Regular progress indicator for initial data download */}\n          {progress && !updateResult && (\n            <div className=\"space-y-2 animate-in fade-in-50 duration-300\">\n              <Progress\n                value={progress.progress}\n                className={`transition-all duration-300 ${\n                  isPending ? \"opacity-50\" : \"opacity-100\"\n                }`}\n              />\n              <div className=\"flex justify-between text-xs text-muted-foreground\">\n                <span>{Math.round(progress.progress)}%</span>\n                <span>\n                  {progress.processedChampions} of {progress.totalChampions}{\" \"}\n                  champions\n                </span>\n              </div>\n              <p className=\"text-xs text-muted-foreground text-right animate-in slide-in-from-right-5\">\n                {progress.currentChampion &&\n                  `Currently processing: ${progress.currentChampion}`}\n              </p>\n            </div>\n          )}\n\n          {/* GitHub update UI */}\n          {updateResult && !progress && (\n            <div className=\"space-y-3 animate-in fade-in-50 duration-300\">\n              <div className=\"grid grid-cols-2 gap-2 text-sm\">\n                <span className=\"text-muted-foreground\">Current Version:</span>\n                <span className=\"font-mono\">\n                  {updateResult.current_version ?? \"Not installed\"}\n                </span>\n\n                <span className=\"text-muted-foreground\">Latest Version:</span>\n                <span className=\"font-mono\">\n                  {updateResult.available_version ?? \"Unknown\"}\n                </span>\n              </div>\n\n              {updateResult.has_update ? (\n                <div className=\"rounded-md bg-muted/50 p-3 border border-border\">\n                  <p className=\"text-sm font-medium mb-1\">Update Available</p>\n                  <p className=\"text-xs text-muted-foreground mb-3\">\n                    {updateResult.update_message ??\n                      \"New data updates are available for download.\"}\n                  </p>\n                  <Button\n                    size=\"sm\"\n                    className=\"w-full\"\n                    disabled={updatingData}\n                    onClick={pullUpdates}\n                  >\n                    {updatingData ? \"Updating...\" : \"Update Now\"}\n                  </Button>\n                </div>\n              ) : (\n                <div className=\"rounded-md bg-muted/50 p-3 border border-border\">\n                  <p className=\"text-sm font-medium flex items-center gap-2\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"16\"\n                      height=\"16\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      className=\"text-green-500\"\n                    >\n                      <path d=\"M20 6L9 17l-5-5\" />\n                    </svg>\n                    Data is up to date\n                  </p>\n                  <p className=\"text-xs text-muted-foreground mt-1\">\n                    You have the latest champion data installed.\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Loading state */}\n          {(checkingForUpdates || updatingData) &&\n            !progress &&\n            !updateResult && (\n              <div className=\"flex flex-col items-center justify-center py-4\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary mb-2\"></div>\n                <p className=\"text-sm text-muted-foreground\">\n                  {checkingForUpdates\n                    ? \"Checking for updates...\"\n                    : \"Updating data...\"}\n                </p>\n              </div>\n            )}\n        </div>\n\n        <DialogFooter className=\"mt-4\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={checkForUpdates}\n            disabled={checkingForUpdates || updatingData}\n          >\n            Check for Updates\n          </Button>\n          <Button size=\"sm\" onClick={onClose} disabled={updatingData}>\n            Close\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 7572, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/components/EnhancedLoading.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Loader2, Sparkles, Shield, Crown, Trophy } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\ninterface EnhancedLoadingProps {\n  title?: string;\n  subtitle?: string;\n  variant?: \"default\" | \"champion\" | \"skin\" | \"update\";\n}\n\nconst loadingVariants = {\n  default: {\n    icon: Loader2,\n    title: \"Loading...\",\n    subtitle: \"Please wait while we prepare your experience\",\n    color: \"from-blue-500 to-purple-500\",\n    accentColor: \"text-blue-500\"\n  },\n  champion: {\n    icon: Crown,\n    title: \"Loading Champions\",\n    subtitle: \"Preparing your champion collection...\",\n    color: \"from-yellow-500 to-orange-500\",\n    accentColor: \"text-yellow-500\"\n  },\n  skin: {\n    icon: Sparkles,\n    title: \"Loading Skins\",\n    subtitle: \"Fetching beautiful skin collections...\",\n    color: \"from-purple-500 to-pink-500\",\n    accentColor: \"text-purple-500\"\n  },\n  update: {\n    icon: Trophy,\n    title: \"Updating Data\",\n    subtitle: \"Getting the latest champion information...\",\n    color: \"from-green-500 to-emerald-500\",\n    accentColor: \"text-green-500\"\n  }\n};\n\nexport function EnhancedLoading({ \n  title, \n  subtitle, \n  variant = \"default\" \n}: EnhancedLoadingProps) {\n  const config = loadingVariants[variant];\n  const IconComponent = config.icon;\n\n  return (\n    <div className=\"flex items-center justify-center h-full w-full min-h-[400px] flex-col gap-8 relative overflow-hidden\">\n      {/* Animated background elements */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        {[...Array(6)].map((_, i) => (\n          <motion.div\n            key={i}\n            className={`absolute w-32 h-32 bg-gradient-to-br ${config.color} opacity-10 rounded-full blur-xl`}\n            animate={{\n              x: [0, 100, -100, 0],\n              y: [0, -100, 100, 0],\n              scale: [1, 1.2, 0.8, 1],\n            }}\n            transition={{\n              duration: 8 + i * 2,\n              repeat: Infinity,\n              repeatType: \"reverse\",\n              delay: i * 0.5,\n            }}\n            style={{\n              left: `${20 + (i * 15)}%`,\n              top: `${15 + (i * 10)}%`,\n            }}\n          />\n        ))}\n      </div>\n\n      {/* Main loading content */}\n      <motion.div\n        className=\"relative z-10 flex flex-col items-center gap-8\"\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.6 }}\n      >\n        {/* Enhanced loading spinner */}\n        <motion.div className=\"relative\">\n          {/* Outer glow ring */}\n          <motion.div\n            className={`absolute inset-0 rounded-full bg-gradient-to-r ${config.color} blur-2xl`}\n            animate={{\n              scale: [1, 1.2, 1],\n              opacity: [0.3, 0.6, 0.3],\n            }}\n            transition={{\n              duration: 2,\n              repeat: Infinity,\n              repeatType: \"reverse\",\n            }}\n          />\n          \n          {/* Rotating border ring */}\n          <motion.div\n            className={`relative w-24 h-24 rounded-full bg-gradient-to-r ${config.color} p-1 shadow-2xl`}\n            animate={{ rotate: 360 }}\n            transition={{\n              duration: 2,\n              repeat: Infinity,\n              ease: \"linear\",\n            }}\n          >\n            <div className=\"w-full h-full rounded-full bg-white dark:bg-slate-900 flex items-center justify-center\">\n              {/* Inner icon */}\n              <motion.div\n                animate={variant === \"default\" ? { rotate: 360 } : { scale: [1, 1.1, 1] }}\n                transition={\n                  variant === \"default\"\n                    ? { duration: 1, repeat: Infinity, ease: \"linear\" }\n                    : { duration: 1.5, repeat: Infinity, repeatType: \"reverse\" }\n                }\n              >\n                <IconComponent className={`h-8 w-8 ${config.accentColor}`} />\n              </motion.div>\n              \n              {/* Sparkle effects for certain variants */}\n              {(variant === \"champion\" || variant === \"skin\") && (\n                <motion.div\n                  className=\"absolute -top-1 -right-1\"\n                  animate={{\n                    scale: [0, 1, 0],\n                    rotate: [0, 180, 360],\n                  }}\n                  transition={{\n                    duration: 2,\n                    repeat: Infinity,\n                    delay: 0.5,\n                  }}\n                >\n                  <Sparkles className=\"h-4 w-4 text-yellow-400\" />\n                </motion.div>\n              )}\n            </div>\n          </motion.div>\n        </motion.div>\n\n        {/* Loading text with typewriter effect */}\n        <motion.div \n          className=\"text-center space-y-4 max-w-md\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.3 }}\n        >\n          <motion.h2 \n            className=\"text-2xl font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent\"\n            animate={{ opacity: [0.7, 1, 0.7] }}\n            transition={{ duration: 2, repeat: Infinity, repeatType: \"reverse\" }}\n          >\n            {title || config.title}\n          </motion.h2>\n          \n          {/* Progress indicator dots */}\n          <div className=\"flex justify-center gap-2\">\n            {[0, 1, 2].map((i) => (\n              <motion.div\n                key={i}\n                className={`w-2 h-2 rounded-full bg-gradient-to-r ${config.color}`}\n                animate={{\n                  scale: [0.8, 1.2, 0.8],\n                  opacity: [0.5, 1, 0.5],\n                }}\n                transition={{\n                  duration: 1.5,\n                  repeat: Infinity,\n                  delay: i * 0.2,\n                }}\n              />\n            ))}\n          </div>\n          \n          <motion.p \n            className=\"text-muted-foreground leading-relaxed\"\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: 0.6 }}\n          >\n            {subtitle || config.subtitle}\n          </motion.p>\n        </motion.div>\n\n        {/* Progress bar */}\n        <motion.div \n          className=\"w-80 max-w-sm h-2 bg-muted/30 rounded-full overflow-hidden\"\n          initial={{ width: 0 }}\n          animate={{ width: \"100%\" }}\n          transition={{ delay: 0.8, duration: 0.5 }}\n        >\n          <motion.div\n            className={`h-full bg-gradient-to-r ${config.color} rounded-full`}\n            animate={{\n              x: [-100, 100],\n              opacity: [0, 1, 0],\n            }}\n            transition={{\n              duration: 2,\n              repeat: Infinity,\n              ease: \"easeInOut\",\n            }}\n          />\n        </motion.div>\n      </motion.div>\n\n      {/* Floating particles */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        {[...Array(8)].map((_, i) => (\n          <motion.div\n            key={i}\n            className={`absolute w-1 h-1 ${config.accentColor.replace('text-', 'bg-')} rounded-full opacity-60`}\n            animate={{\n              y: [0, -100, 0],\n              x: [-20, 20, -20],\n              opacity: [0, 1, 0],\n            }}\n            transition={{\n              duration: 3 + Math.random() * 2,\n              repeat: Infinity,\n              delay: Math.random() * 2,\n            }}\n            style={{\n              left: `${Math.random() * 100}%`,\n              top: `${Math.random() * 100}%`,\n            }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\n// Specialized loading components for different contexts\nexport const ChampionLoading = (props: Omit<EnhancedLoadingProps, 'variant'>) => (\n  <EnhancedLoading {...props} variant=\"champion\" />\n);\n\nexport const SkinLoading = (props: Omit<EnhancedLoadingProps, 'variant'>) => (\n  <EnhancedLoading {...props} variant=\"skin\" />\n);\n\nexport const UpdateLoading = (props: Omit<EnhancedLoadingProps, 'variant'>) => (\n  <EnhancedLoading {...props} variant=\"update\" />\n);\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 8024, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/feitan/Desktop/new%20ai/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, Suspense, useCallback, useMemo } from \"react\";\nimport { useDataUpdate } from \"@/lib/hooks/use-data-update\";\nimport { useChampions } from \"@/lib/hooks/use-champions\";\nimport { GameDirectorySelector } from \"@/components/game-directory/GameDirectorySelector\";\nimport { useGameStore } from \"@/lib/store\";\nimport { Loader2, Sparkles, Trophy, Crown } from \"lucide-react\";\nimport { useInitialization } from \"@/lib/hooks/use-initialization\";\nimport { useChampionPersistence } from \"@/lib/hooks/use-champion-persistence\";\nimport { filterAndSortChampions } from \"@/lib/utils/champion-utils\";\nimport ChampionGrid from \"@/components/ChampionGrid\";\nimport { SkinGrid } from \"@/components/SkinGrid\";\nimport { CustomSkinList } from \"@/components/CustomSkinList\";\nimport { TopBar } from \"@/components/layout/TopBar\";\nimport { invoke } from \"@tauri-apps/api/core\";\nimport { toast } from \"sonner\";\nimport { DownloadingModal } from \"@/components/DownloadingModal\";\nimport { ChampionLoading, SkinLoading } from \"@/components/EnhancedLoading\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport ErrorBoundary from \"@/components/ErrorBoundary\";\n\ninterface UpdateInfo {\n  has_update: boolean;\n}\n\n// Memoized loading component for better performance\nconst PageLoading = React.memo(() => {\n  return (\n    <div className=\"h-screen w-full bg-gradient-to-br from-background via-muted/30 to-primary/5\">\n      <ChampionLoading \n        title=\"Loading Champions Data\"\n        subtitle=\"Preparing your League experience...\"\n      />\n    </div>\n  );\n});\n\n// Memoized champion selection placeholder\nconst ChampionSelectionPlaceholder = () => (\n  <div className=\"flex items-center justify-center h-full min-h-[400px]\">\n    <div className=\"text-center space-y-4 max-w-md\">\n      <div className=\"w-20 h-20 rounded-2xl bg-gradient-to-br from-muted/50 to-muted/30 flex items-center justify-center mx-auto\">\n        <Sparkles className=\"h-8 w-8 text-muted-foreground/60\" />\n      </div>\n      <h3 className=\"text-xl font-semibold text-foreground/80\">\n        Select a Champion\n      </h3>\n      <p className=\"text-muted-foreground leading-relaxed\">\n        Choose a champion from the sidebar to view and manage their skins\n      </p>\n    </div>\n  </div>\n);\n\n// Main component\nexport default function Home() {\n  return (\n    <ErrorBoundary>\n      <HomeContent />\n    </ErrorBoundary>\n  );\n}\n\nfunction HomeContent() {\n  const { champions, loading, error, hasData } = useChampions();\n  const { updateData, isUpdating, progress } = useDataUpdate();\n  const { \n    leaguePath, \n    activeTab, \n    favorites, \n    toggleFavorite, \n    settings: { autoUpdateData },\n  } = useGameStore();\n  \n  // Local state\n  const [isUpdateModalOpen, setIsUpdateModalOpen] = useState(false);\n  const [isInitialDataLoad, setIsInitialDataLoad] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedChampion, setSelectedChampion] = useState<number | null>(null);\n\n  // Initialize app\n  useInitialization();\n  useChampionPersistence();\n\n  // Memoized computed values for better performance\n  const filteredChampions = useMemo(\n    () => filterAndSortChampions(champions, searchQuery, favorites),\n    [champions, searchQuery, favorites]\n  );\n\n  const selectedChampionData = useMemo(\n    () => champions.find((champ) => champ.id === selectedChampion),\n    [champions, selectedChampion]\n  );\n\n  // Optimized data update handler with better error handling\n  const handleUpdateData = useCallback(async () => {\n    try {\n      await invoke(\"delete_champions_cache\");\n      await updateData();\n      toast.success(\"Champion data updated successfully!\");\n    } catch (error) {\n      console.error(\"Failed to update data:\", error);\n      toast.error(\n        error instanceof Error \n          ? `Failed to update data: ${error.message}` \n          : \"Failed to update data\"\n      );\n    }\n  }, [updateData]);\n\n  const handleCheckForUpdates = useCallback(() => {\n    setIsUpdateModalOpen(true);\n  }, []);\n\n  // Optimized champion selection handler\n  const handleChampionSelect = useCallback((championId: number) => {\n    setSelectedChampion(championId);\n  }, []);\n\n  // Auto-download data if not available (optimized with better dependency array)\n  useEffect(() => {\n    if (leaguePath && hasData === false && !isInitialDataLoad && !isUpdating) {\n      setIsInitialDataLoad(true);\n      handleUpdateData().finally(() => {\n        setIsInitialDataLoad(false);\n      });\n    }\n  }, [leaguePath, hasData, isInitialDataLoad, isUpdating, handleUpdateData]);\n\n  // Auto-update check (only runs once on mount when enabled)\n  useEffect(() => {\n    if (!autoUpdateData) return;\n\n    const checkForUpdates = async () => {\n      try {\n        const updateResult: UpdateInfo = await invoke(\"check_github_updates\");\n        if (updateResult.has_update) {\n          await invoke(\"update_champion_data_from_github\");\n          toast.success(\"Champion data auto-updated!\");\n        }\n      } catch (err) {\n        console.warn(\"Auto-update check failed:\", err);\n        // Silent fail for auto-update to avoid spam\n      }\n    };\n\n    checkForUpdates();\n  }, [autoUpdateData]);\n\n  // Error handling\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center h-screen w-full\">\n        <div className=\"text-center space-y-4\">\n          <div className=\"w-16 h-16 rounded-full bg-destructive/10 flex items-center justify-center mx-auto\">\n            <Trophy className=\"h-8 w-8 text-destructive\" />\n          </div>\n          <h3 className=\"text-xl font-semibold\">Something went wrong</h3>\n          <p className=\"text-muted-foreground max-w-md\">\n            {String(error) || \"An unexpected error occurred\"}\n          </p>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors\"\n          >\n            Reload Application\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // Initial setup states\n  if (!leaguePath) {\n    return <GameDirectorySelector />;\n  }\n\n  // Show loading screen while downloading initial data or when loading\n  if (hasData === false || loading || isInitialDataLoad) {\n    return <PageLoading />;\n  }\n\n  return (\n    <div className=\"flex flex-col h-full w-full bg-gradient-to-br from-background via-muted/10 to-primary/5\">\n      {/* Enhanced TopBar */}\n      <div className=\"relative z-20\">\n        <TopBar\n          champions={champions}\n          selectedChampionId={selectedChampion}\n          searchQuery={searchQuery}\n          onSearchChange={setSearchQuery}\n          onUpdateData={handleCheckForUpdates}\n          isUpdating={isUpdating}\n        />\n      </div>\n\n      {/* Downloading Modal */}\n      <DownloadingModal\n        isOpen={isUpdateModalOpen}\n        onClose={() => setIsUpdateModalOpen(false)}\n        progress={progress}\n        isUpdating={isUpdating}\n      />\n\n      {/* Main Content */}\n      <Suspense fallback={<PageLoading />}>\n        <div className=\"flex flex-1 overflow-hidden\">\n          {/* Champion Sidebar */}\n          <div className=\"w-1/4 xl:w-1/5 border-r border-border/50 bg-gradient-to-b from-muted/20 to-background/50 backdrop-blur-sm overflow-hidden\">\n            <ChampionGrid\n              champions={filteredChampions}\n              onSelectChampion={handleChampionSelect}\n              selectedChampionId={selectedChampion}\n              onToggleFavorite={toggleFavorite}\n              favorites={favorites}\n            />\n          </div>\n\n          {/* Main Content Area */}\n          <div className=\"w-3/4 xl:w-4/5 flex flex-col overflow-hidden relative\">\n            {/* Background effects */}\n            <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n              <div className=\"absolute top-1/4 right-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl animate-pulse delay-1000\" />\n              <div className=\"absolute bottom-1/4 left-1/4 w-48 h-48 bg-purple-500/5 rounded-full blur-3xl animate-pulse delay-2000\" />\n            </div>\n\n            {/* Content header */}\n            {selectedChampionData && (\n              <div className=\"relative z-10 p-6 border-b border-border/50 bg-gradient-to-r from-background/80 to-muted/40 backdrop-blur-sm\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/20 to-purple-500/20 flex items-center justify-center\">\n                    <Crown className=\"h-6 w-6 text-primary\" />\n                  </div>\n                  <div>\n                    <h1 className=\"text-2xl font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent\">\n                      {selectedChampionData.name}\n                    </h1>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {activeTab === \"official\" ? \"Official Skins\" : \"Custom Skins\"}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Main content */}\n            <div className=\"flex-1 relative z-10\">\n              {!selectedChampionData ? (\n                <ChampionSelectionPlaceholder />\n              ) : activeTab === \"official\" ? (\n                <SkinGrid champion={selectedChampionData} isLoading={loading} />\n              ) : (\n                <ScrollArea className=\"h-full w-full\">\n                  <div className=\"p-6\">\n                    <CustomSkinList championId={selectedChampion} />\n                  </div>\n                </ScrollArea>\n              )}\n            </div>\n          </div>\n        </div>\n      </Suspense>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}